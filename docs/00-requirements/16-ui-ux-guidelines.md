# UI/UX ガイドライン

> 本ドキュメントは統合システム設計仕様書の一部です。
> マスタードキュメント: [master_system_design.md](./master_system_design.md)

---

## 16.1 デザインシステム概要

### 16.1.1 Design Tokens の3層構造

| 層                   | 説明                                                | 例                                     |
| -------------------- | --------------------------------------------------- | -------------------------------------- |
| **Primitive Tokens** | 生の値を定義する基礎層                              | `gray-900: #111827`, `spacing-4: 16px` |
| **Semantic Tokens**  | 意味を持つトークン。Primitiveを参照して用途を明確化 | `color-text-primary: gray-900`         |
| **Component Tokens** | コンポーネント固有のトークン。Semanticを参照        | `button-primary-bg: color-primary`     |

### 16.1.2 一貫性の原則

- 同じ意味を持つ要素には同じトークンを適用する
- デザイン決定は必ずトークンを通じて行い、ハードコードを避ける
- Tailwind CSSのユーティリティクラスを基盤とし、カスタムクラスは最小限に留める
- Web版とDesktop版で同一のトークンセットを共有する

### 16.1.3 拡張性の確保

- 新しいコンポーネント追加時は既存トークンの再利用を優先する
- 既存トークンで対応できない場合のみ新規トークンを定義する
- トークン命名は予測可能なパターンに従う（用途-状態-バリアント）
- バージョニングを考慮し、非推奨トークンの移行期間を設ける

---

## 16.2 Spatial Design Tokens（Knowledge Studio）

### 16.2.1 概要

Knowledge StudioデスクトップアプリではApple Human Interface GuidelinesのSpatial Design原則を取り入れたトークンを定義する。

### 16.2.2 Glass Panel効果

| トークン         | 値                         | 用途              |
| ---------------- | -------------------------- | ----------------- |
| `--glass-bg`     | rgba(30,30,30,0.7)         | パネル背景        |
| `--glass-border` | rgba(255,255,255,0.1)      | パネルボーダー    |
| `--glass-blur`   | 20px                       | backdrop-filter値 |
| `--glass-shadow` | 0 8px 32px rgba(0,0,0,0.3) | パネルシャドウ    |

### 16.2.3 Dynamic Island

| 要素       | 仕様                                   |
| ---------- | -------------------------------------- |
| 配置       | 画面上部中央                           |
| サイズ     | コンテンツに応じて動的に拡縮           |
| 状態       | idle, loading, success, error, warning |
| アニメ     | 300ms ease-in-out                      |
| 自動非表示 | 成功/エラー時3秒後、警告時5秒後        |

### 16.2.4 App Dock

| 要素       | 仕様                                     |
| ---------- | ---------------------------------------- |
| 配置       | 左端固定                                 |
| 幅         | 64px                                     |
| アイテム   | Dashboard, Editor, Chat, Graph, Settings |
| ホバー効果 | Tooltip表示（300ms delay）               |
| 選択状態   | 背景色変更 + 左ボーダーインジケータ      |

---

## 16.3 カラーシステム

### 16.3.1 テーマ切り替え機能

| 項目         | 仕様                                                         |
| ------------ | ------------------------------------------------------------ |
| テーマモード | light, dark, system の3種類                                  |
| 永続化       | electron-store による設定保存                                |
| システム連動 | `nativeTheme` API を使用してOS設定に自動追従（system選択時） |
| FOUC防止     | `data-theme` 属性による初期テーマ設定                        |

### 16.3.2 ライトモード / ダークモードの色定義

| 用途                   | ライトモード | ダークモード |
| ---------------------- | ------------ | ------------ |
| 背景（プライマリ）     | white        | slate-900    |
| 背景（セカンダリ）     | slate-50     | slate-800    |
| 背景（ターシャリ）     | slate-100    | slate-700    |
| テキスト（プライマリ） | slate-900    | slate-50     |
| テキスト（セカンダリ） | slate-600    | slate-400    |
| テキスト（ミュート）   | slate-400    | slate-500    |
| ボーダー               | slate-200    | slate-700    |
| ボーダー（強調）       | slate-300    | slate-600    |

### 16.3.3 セマンティックカラー

| 種別        | ベース色              | 用途                                 |
| ----------- | --------------------- | ------------------------------------ |
| **Primary** | blue-600 / blue-500   | 主要アクション、リンク、アクティブ   |
| **Success** | green-600 / green-500 | 成功状態、完了、肯定的フィードバック |
| **Warning** | amber-500 / amber-400 | 警告、注意喚起、保留状態             |
| **Error**   | red-600 / red-500     | エラー、危険、破壊的アクション       |
| **Info**    | sky-500 / sky-400     | 情報提供、ヒント、補足説明           |

### 16.3.4 アクセシビリティ対応（コントラスト比）

| 要件                       | 最低コントラスト比 | 対象                           |
| -------------------------- | ------------------ | ------------------------------ |
| 通常テキスト（14px未満）   | 4.5:1 以上         | 本文、ラベル、説明文           |
| 大きいテキスト（18px以上） | 3:1 以上           | 見出し、ボタンテキスト         |
| UIコンポーネント           | 3:1 以上           | アイコン、ボーダー、フォーカス |

**確認事項**

- ダークモードでも同等のコントラスト比を維持する
- 色覚多様性への配慮として、色だけでなく形状やテキストでも情報を伝達する
- コントラストチェッカーツールで定期的に検証する

---

## 16.4 タイポグラフィ

### 16.4.1 フォントファミリー（日本語対応）

| 用途                 | フォントスタック                                           |
| -------------------- | ---------------------------------------------------------- |
| UI全般（sans-serif） | Inter, Noto Sans JP, Hiragino Sans, sans-serif             |
| コード（monospace）  | JetBrains Mono, Source Code Pro, Noto Sans Mono, monospace |

**考慮事項**

- 日本語フォントは可変フォント対応のものを優先する
- system-uiフォールバックでOSネイティブフォントも活用する
- ウェブフォントの読み込みは`font-display: swap`を使用する

### 16.4.2 フォントサイズスケール

| トークン名 | サイズ          | 用途                 |
| ---------- | --------------- | -------------------- |
| text-xs    | 12px / 0.75rem  | キャプション、バッジ |
| text-sm    | 14px / 0.875rem | 補助テキスト、ラベル |
| text-base  | 16px / 1rem     | 本文、デフォルト     |
| text-lg    | 18px / 1.125rem | 小見出し、強調       |
| text-xl    | 20px / 1.25rem  | セクション見出し     |
| text-2xl   | 24px / 1.5rem   | ページ見出し         |
| text-3xl   | 30px / 1.875rem | 大見出し             |
| text-4xl   | 36px / 2.25rem  | ヒーロー、タイトル   |

### 16.4.3 行間・文字間隔

| 要素               | 行間（line-height）     | 文字間隔（letter-spacing） |
| ------------------ | ----------------------- | -------------------------- |
| 本文（日本語含む） | 1.75（leading-relaxed） | 0.025em                    |
| 見出し             | 1.25-1.4                | -0.025em                   |
| UI要素（ボタン等） | 1.25                    | 0.025em                    |
| コード             | 1.5                     | 0                          |

---

## 16.5 スペーシングとレイアウト

### 16.5.1 8pxグリッドシステム

- 全てのスペーシングは8pxの倍数を基本とする
- 微調整が必要な場合のみ4pxを許可する
- 1px, 2pxはボーダーやアウトライン専用とする

| トークン    | 値   | 主な用途                       |
| ----------- | ---- | ------------------------------ |
| spacing-0.5 | 2px  | ボーダー内側の微細な隙間       |
| spacing-1   | 4px  | アイコンとテキストの間隔       |
| spacing-2   | 8px  | コンパクトな内部パディング     |
| spacing-3   | 12px | 小要素間のギャップ             |
| spacing-4   | 16px | 標準パディング、要素間隔       |
| spacing-6   | 24px | セクション内のグループ間隔     |
| spacing-8   | 32px | カード・パネルの内部パディング |
| spacing-12  | 48px | セクション間のマージン         |
| spacing-16  | 64px | ページセクション間の大きな間隔 |

### 16.5.2 マージン・パディングの規則

| コンテキスト               | 推奨値                                           |
| -------------------------- | ------------------------------------------------ |
| ボタン内部パディング（横） | spacing-4〜spacing-6                             |
| ボタン内部パディング（縦） | spacing-2〜spacing-3                             |
| 入力フィールド内部         | spacing-3（縦）、spacing-4（横）                 |
| カード内部パディング       | spacing-6〜spacing-8                             |
| リスト項目間のギャップ     | spacing-2〜spacing-4                             |
| フォーム項目間のギャップ   | spacing-6                                        |
| ページのサイドパディング   | spacing-4（モバイル）〜spacing-8（デスクトップ） |

### 16.5.3 レスポンシブブレイクポイント

| ブレイクポイント | 値     | 対象デバイス                           |
| ---------------- | ------ | -------------------------------------- |
| sm               | 640px  | 大型スマートフォン（横向き）           |
| md               | 768px  | タブレット（縦向き）                   |
| lg               | 1024px | タブレット（横向き）、小型ラップトップ |
| xl               | 1280px | デスクトップ                           |
| 2xl              | 1536px | 大型デスクトップ                       |

**Electron固有の考慮事項**

- 最小ウィンドウサイズは800x600pxを推奨する
- サイドバーの表示/非表示はlg（1024px）を基準とする
- ウィンドウサイズ変更時のレイアウト崩れを防ぐ

---

## 16.6 コンポーネント設計原則

### 16.6.1 Atomic Design の適用

| 階層          | 説明                              | 配置場所                           |
| ------------- | --------------------------------- | ---------------------------------- |
| **Atoms**     | 最小単位の要素                    | `packages/shared/ui/atoms/`        |
| **Molecules** | Atomsを組み合わせた機能単位       | `packages/shared/ui/molecules/`    |
| **Organisms** | Moleculesを組み合わせたセクション | `packages/shared/ui/organisms/`    |
| **Templates** | ページのレイアウト構造            | 各アプリ内 `components/templates/` |
| **Pages**     | 具体的なコンテンツを持つ画面      | 各アプリの `app/` または `pages/`  |

**分類例**

| 分類      | コンポーネント例                           |
| --------- | ------------------------------------------ |
| Atoms     | Button, Input, Label, Icon, Badge, Spinner |
| Molecules | FormField, SearchBar, Dropdown, Tooltip    |
| Organisms | Header, Sidebar, DataTable, Modal, Card    |

### 16.6.2 コンポーネントの命名規則

| ルール                             | 例                                             |
| ---------------------------------- | ---------------------------------------------- |
| PascalCaseを使用する               | `Button`, `FormField`, `DataTable`             |
| 具体的で説明的な名前にする         | `UserAvatarCard`（○）、`Card1`（×）            |
| プレフィックスで用途を明示する     | `IconButton`, `PrimaryButton`, `FormInput`     |
| バリアントはPropsで管理する        | `variant="primary"`（○）、`PrimaryButton`（△） |
| ファイル名はコンポーネント名と一致 | `Button.tsx` exports `Button`                  |

### 16.6.3 Props設計のベストプラクティス

| 原則                                 | 説明                                  |
| ------------------------------------ | ------------------------------------- |
| 必須Propsは最小限に                  | 多くのPropsにデフォルト値を設ける     |
| Boolean Propsは肯定形で              | `isDisabled`（○）、`notEnabled`（×）  |
| イベントハンドラは`on`プレフィックス | `onClick`, `onChange`, `onSubmit`     |
| children Propsを活用する             | Compositionパターンで柔軟性を確保     |
| スプレッド演算子で拡張性を確保       | `...rest`でHTML属性を透過的に渡す     |
| Discriminated Unionsで型安全に       | バリアントごとに異なるPropsを型で表現 |

---

## 16.7 Apple HIG 準拠（Electron向け）

### 16.7.1 macOSネイティブな見た目と操作感

| 要素                 | 準拠事項                                         |
| -------------------- | ------------------------------------------------ |
| ウィンドウ外観       | 角丸（10px相当）、シャドウ、半透明背景のサポート |
| アニメーション       | 滑らかな300ms前後のイージング（ease-out）        |
| 視覚フィードバック   | ホバー、プレス状態の明確な変化                   |
| スクロール           | 慣性スクロール、スムーズなバウンス効果           |
| コンテキストメニュー | 右クリック・Ctrl+クリックで表示                  |

### 16.7.2 タイトルバー・トラフィックライト

| 項目                   | 推奨設定                                          |
| ---------------------- | ------------------------------------------------- |
| タイトルバースタイル   | `hidden`または`hiddenInset`でカスタムタイトルバー |
| トラフィックライト位置 | 左上（デフォルト）、または`titleBarOverlay`で調整 |
| ドラッグ可能領域       | `-webkit-app-region: drag`をヘッダー領域に適用    |
| ボタン非活性化         | ドラッグ領域内のボタンには`no-drag`を設定         |
| フルスクリーン対応     | トラフィックライトの表示切替に対応する            |

### 16.7.3 キーボードショートカット

| 操作       | macOS       | Windows/Linux |
| ---------- | ----------- | ------------- |
| 新規作成   | Cmd+N       | Ctrl+N        |
| 保存       | Cmd+S       | Ctrl+S        |
| 設定を開く | Cmd+,       | Ctrl+,        |
| 検索       | Cmd+F       | Ctrl+F        |
| 全選択     | Cmd+A       | Ctrl+A        |
| 取り消し   | Cmd+Z       | Ctrl+Z        |
| やり直し   | Cmd+Shift+Z | Ctrl+Y        |
| 閉じる     | Cmd+W       | Ctrl+W        |
| 終了       | Cmd+Q       | Alt+F4        |

**考慮事項**

- ショートカットはメニューバーのラベルに表示する
- カスタムショートカットはOS標準と競合しないようにする
- アクセシビリティのため、全機能はキーボードでアクセス可能にする

### 16.7.4 メニューバー設計

| メニュー         | 含めるべき項目                                       |
| ---------------- | ---------------------------------------------------- |
| アプリ名メニュー | About、環境設定、サービス、非表示、終了              |
| File             | 新規、開く、保存、閉じる                             |
| Edit             | 取り消し、やり直し、カット、コピー、ペースト、全選択 |
| View             | 表示切替、ズーム、サイドバー、フルスクリーン         |
| Window           | 最小化、ズーム、ウィンドウ切替                       |
| Help             | ヘルプを検索、ドキュメント、サポート                 |

---

## 16.8 インタラクション設計

### 16.8.1 ローディング状態の表示

| パターン             | 使用場面                         | 実装方針                         |
| -------------------- | -------------------------------- | -------------------------------- |
| インラインスピナー   | ボタン内、入力フィールド横       | 元の要素サイズを維持             |
| スケルトンスクリーン | リスト、カード、コンテンツ領域   | 実際のコンテンツと同じ形状で表示 |
| プログレスバー       | ファイルアップロード、長時間処理 | 進捗率を数値でも表示する         |
| オーバーレイ         | ページ全体、モーダル内           | 使用は最小限に                   |

**ベストプラクティス**

- 200ms以上かかる処理にのみローディング表示を行う
- 処理完了後は即座にローディングを非表示にする
- 可能であれば残り時間や進捗を表示する
- キャンセル可能な処理にはキャンセルボタンを提供する

### 16.8.2 エラー状態の表示

| 種類               | 表示方法                       | 例                                     |
| ------------------ | ------------------------------ | -------------------------------------- |
| フィールドエラー   | 入力フィールド直下に赤字で表示 | メールアドレスの形式が正しくありません |
| フォームエラー     | フォーム上部にまとめて表示     | エラー件数とリンク付きリスト           |
| トースト通知       | 画面端に一時的に表示           | API通信エラー、保存失敗                |
| インラインアラート | コンテンツ内に埋め込み         | 権限不足、機能制限の説明               |
| フルページエラー   | 画面全体をエラー表示に         | 404、500、ネットワークエラー           |

**メッセージの書き方**

- 何が起きたかを明確に伝える
- ユーザーが次に何をすべきかを示す
- 技術的な詳細は避け、平易な言葉を使う

### 16.8.3 アニメーション・トランジション

| 種類             | 継続時間  | イージング  | 用途                         |
| ---------------- | --------- | ----------- | ---------------------------- |
| 瞬時（Instant）  | 0-100ms   | -           | ホバー、ボタンプレス         |
| 高速（Fast）     | 100-200ms | ease-out    | ツールチップ、ドロップダウン |
| 標準（Normal）   | 200-300ms | ease-in-out | モーダル、パネル、ページ遷移 |
| 強調（Emphasis） | 300-500ms | ease-out    | オンボーディング、重要な変更 |

**原則**

- アニメーションは目的を持って使用する
- ユーザーの操作を妨げない速度にする
- `prefers-reduced-motion`で簡略化オプションを提供する
- CPUリソースへの影響を考慮し、`transform`と`opacity`を優先する

### 16.8.4 フィードバック原則

| 操作            | フィードバック         | タイミング               |
| --------------- | ---------------------- | ------------------------ |
| クリック/タップ | 視覚的な押下状態       | 即時                     |
| ホバー          | 色の変化、カーソル変更 | 即時                     |
| フォーカス      | フォーカスリング表示   | 即時                     |
| 入力            | バリデーション結果     | blur時またはリアルタイム |
| 送信            | 成功/失敗の通知        | 処理完了後               |
| ドラッグ        | ドラッグ中の視覚表現   | ドラッグ開始時           |

---

## 16.9 アクセシビリティ（WCAG 2.1 AA準拠）

### 16.9.1 キーボードナビゲーション

| 要件                             | 実装方針                                 |
| -------------------------------- | ---------------------------------------- |
| 全機能にキーボードでアクセス可能 | マウス専用の操作を作らない               |
| 論理的なタブ順序                 | DOMの順序を視覚的な順序と一致させる      |
| フォーカストラップ               | モーダル内でフォーカスを閉じ込める       |
| ショートカット                   | 主要操作に割り当て、ヘルプで一覧表示     |
| スキップリンク                   | メインコンテンツへのスキップリンクを提供 |

| キー      | 期待される動作                           |
| --------- | ---------------------------------------- |
| Tab       | 次のインタラクティブ要素へ移動           |
| Shift+Tab | 前のインタラクティブ要素へ移動           |
| Enter     | ボタンの実行、リンクの遷移               |
| Space     | チェックボックスのトグル、ボタン実行     |
| Escape    | モーダルを閉じる、ドロップダウンを閉じる |
| 矢印キー  | リスト内の移動、ラジオボタンの選択       |

### 16.9.2 スクリーンリーダー対応

| 要件                 | 実装方針                                         |
| -------------------- | ------------------------------------------------ |
| 適切なHTML要素を使用 | `<button>`, `<a>`, `<nav>`, `<main>`, `<header>` |
| 見出しの階層構造     | `<h1>`から順番に使用、レベルをスキップしない     |
| 代替テキスト         | 画像には`alt`属性、装飾画像は`alt=""`            |
| ライブリージョン     | 動的コンテンツには`aria-live`を使用              |
| フォームラベル       | 全入力フィールドに`<label>`を関連付け            |

### 16.9.3 フォーカス管理

| シナリオ         | フォーカス移動先                       |
| ---------------- | -------------------------------------- |
| モーダルを開く   | モーダル内の最初のインタラクティブ要素 |
| モーダルを閉じる | モーダルを開いたトリガー要素           |
| ページ遷移       | ページのメインコンテンツ領域           |
| エラー発生       | 最初のエラーフィールド                 |
| 要素の削除       | 削除された要素の前後の要素             |

**フォーカスインジケータ**

- 2px以上の太さで視認性を確保
- 背景とのコントラスト比3:1以上
- `outline-offset`で要素から離して表示
- `:focus-visible`で意図的なフォーカスのみ表示

### 16.9.4 色だけに頼らない情報伝達

| 情報           | 追加の伝達方法                          |
| -------------- | --------------------------------------- |
| エラー状態     | アイコン（警告マーク）+ テキストラベル  |
| 成功/失敗      | アイコン + 明確なメッセージ             |
| 必須フィールド | アスタリスク + テキスト「（必須）」     |
| リンク         | 下線 + ホバー時の色変化                 |
| 選択状態       | 背景色 + チェックマークアイコン         |
| ステータス     | 色 + テキストラベル（例：進行中、完了） |

---

## 16.10 フォーム設計

### 16.10.1 入力フィールドの設計

| 要素             | 推奨設定                                           |
| ---------------- | -------------------------------------------------- |
| 高さ             | 40px（標準）、36px（コンパクト）、44px（タッチ）   |
| パディング       | 縦12px、横16px                                     |
| 角丸             | 6-8px                                              |
| ボーダー         | 1px solid、hover/focusで色変化                     |
| プレースホルダー | 入力例を示す（ラベルの代用にはしない）             |
| 状態表示         | デフォルト、hover、focus、disabled、error、success |

**入力タイプ別の考慮事項**

| 入力タイプ | 考慮事項                                   |
| ---------- | ------------------------------------------ |
| テキスト   | 適切な`autocomplete`属性の設定             |
| メール     | `type="email"`で適切なキーボード表示       |
| 電話番号   | `type="tel"`、国際形式への対応             |
| パスワード | 表示/非表示トグル、強度インジケータ        |
| 数値       | `type="number"`または`inputmode="numeric"` |
| 日付       | ネイティブピッカーまたはカスタムピッカー   |
| 検索       | `type="search"`、クリアボタン              |

### 16.10.2 バリデーションメッセージ

| 原則             | 説明                                                 |
| ---------------- | ---------------------------------------------------- |
| タイミング       | blur時（フィールド離脱時）を基本                     |
| リアルタイム検証 | パスワード強度など即時フィードバックが有効な場合のみ |
| メッセージ配置   | フィールド直下、左揃え                               |
| 色               | エラーは赤系、成功は緑系                             |
| アイコン         | メッセージ冒頭にアイコンを付加                       |

**メッセージの書き方**

| 避けるべき例   | 推奨例                                 |
| -------------- | -------------------------------------- |
| 無効な入力です | メールアドレスの形式で入力してください |
| エラー         | 8文字以上で入力してください            |
| 必須           | この項目は入力必須です                 |

### 16.10.3 エラー表示パターン

| パターン         | 使用場面                                       |
| ---------------- | ---------------------------------------------- |
| インラインエラー | 各フィールドの直下に個別表示                   |
| サマリーエラー   | フォーム送信後にエラー一覧をフォーム上部に表示 |
| トースト         | サーバーエラーなど全体的な問題                 |

**エラー表示のタイミング**

| タイミング | 用途                                           |
| ---------- | ---------------------------------------------- |
| blur時     | 基本的なフィールド検証                         |
| submit時   | 最終確認、サーバーサイド検証                   |
| 入力中     | 文字数制限、フォーマット案内（過度に使わない） |

---

## 16.11 認証UI設計

### 16.11.1 認証ボタン表示

OAuth認証ボタンは「ログイン」ではなく「続ける」を使用し、新規登録とログインの区別をユーザーに意識させない。

| 要素   | 推奨表示                                       | 非推奨表示               |
| ------ | ---------------------------------------------- | ------------------------ |
| ボタン | 「〇〇で続ける」                               | 「〇〇でログイン」       |
| 見出し | 「アカウント登録・ログイン」                   | 「ログイン」             |
| 説明文 | 「アカウントを連携してデータを同期しましょう」 | 「ログインしてください」 |

**ボタン例**:

- 「Googleで続ける」
- 「GitHubで続ける」
- 「Discordで続ける」

### 16.11.2 認証完了フィードバック

認証完了後、新規登録かログインかを判定してメッセージを表示する。

| 状態     | 判定条件                                   | 表示メッセージ                   | スタイル                      |
| -------- | ------------------------------------------ | -------------------------------- | ----------------------------- |
| 新規登録 | created_at と last_sign_in_at の差 < 30秒  | 「アカウント登録が完了しました」 | 緑色パネル、user-plusアイコン |
| ログイン | created_at と last_sign_in_at の差 >= 30秒 | 「ログインしました」             | 青色パネル、log-inアイコン    |

- メッセージは5秒後に自動的に非表示になる
- フェードアウトアニメーションで自然に消える

### 16.11.3 連携済みプロバイダー表示

認証済み状態では、連携サービス一覧を視覚的に区別して表示する。

**登録済みプロバイダー**:

| 要素     | 仕様                                       |
| -------- | ------------------------------------------ |
| 背景     | `bg-green-500/10`（緑の半透明）            |
| ボーダー | `border-green-500/20`（緑の枠線）          |
| バッジ   | 「登録済み」+ check-circleアイコン（緑色） |
| 情報表示 | プロバイダー名 + 連携メールアドレス        |

**未連携プロバイダー**:

| 要素       | 仕様                             |
| ---------- | -------------------------------- |
| 背景       | デフォルト（白/グレー系）        |
| アクション | 「連携する」ボタン               |
| ホバー状態 | 背景色の変化でクリック可能を示す |

### 16.11.4 エラーメッセージの日本語化

認証関連のエラーメッセージは日本語で表示し、ユーザーが次のアクションを取りやすいようにする。

| エラー種別     | 表示メッセージ                       |
| -------------- | ------------------------------------ |
| ログイン失敗   | 「ログインに失敗しました」           |
| 初期化失敗     | 「認証の初期化に失敗しました」       |
| プロファイル   | 「プロフィールの更新に失敗しました」 |
| アカウント連携 | 「アカウント連携に失敗しました」     |
| トークンなし   | 「認証トークンが見つかりません」     |
| 設定なし       | 「Supabaseが設定されていません」     |
| セッション失敗 | 「セッションの設定に失敗しました」   |
| 認証処理失敗   | 「認証処理に失敗しました」           |

---

## 16.12 アイコンとイラスト

### 16.12.1 アイコンライブラリの選定

| 候補             | 特徴                                  | 推奨用途             |
| ---------------- | ------------------------------------- | -------------------- |
| Lucide Icons     | シンプル、一貫性、React対応、OSS      | 標準UIアイコン       |
| Heroicons        | Tailwind公式、シンプル                | Tailwindプロジェクト |
| Phosphor Icons   | 豊富なバリエーション、6種類のウェイト | 表現力が必要な場合   |
| カスタムアイコン | プロダクト固有                        | ブランドアイコン     |

**推奨**: **Lucide Icons** を標準採用する

### 16.12.2 サイズ規則

| 用途                       | サイズ    | 対応するテキストサイズ   |
| -------------------------- | --------- | ------------------------ |
| インラインアイコン（小）   | 16px      | text-sm（14px）          |
| インラインアイコン（標準） | 20px      | text-base（16px）        |
| ボタン内アイコン           | 20px      | ボタンテキストと同等     |
| ナビゲーションアイコン     | 24px      | text-lg（18px）          |
| 大きなアイコン             | 32px-48px | 見出し、強調表示         |
| イラスト的使用             | 64px以上  | 空状態、オンボーディング |

### 16.12.3 使用ガイドライン

| ルール           | 説明                                              |
| ---------------- | ------------------------------------------------- |
| 一貫したウェイト | 同一プロジェクト内でアウトライン/塗りつぶしを統一 |
| 意味の一貫性     | 同じ概念には同じアイコンを使用                    |
| テキストとの併用 | 重要な操作にはアイコン+テキストラベル             |
| アクセシビリティ | 意味を持つアイコンには`aria-label`を設定          |
| 色の適用         | `currentColor`で親要素の色を継承                  |
| ストローク幅     | 1.5px-2pxで視認性を確保                           |

---

## 関連ドキュメント

- [テクノロジースタック](./03-technology-stack.md)
- [アーキテクチャ設計](./05-architecture.md)
- [非機能要件](./02-non-functional-requirements.md)
