# Discord Bot 仕様 (Discord Integration)

> 本ドキュメントは統合システム設計仕様書の一部です。
> マスタードキュメント: [master_system_design.md](./master_system_design.md)

## 10.1 イベントハンドリング

| イベント | トリガー | 処理 |
|----------|----------|------|
| `messageCreate` | Bot メンション or 指定チャンネル投稿 | ワークフロー起動 |
| `interactionCreate` | スラッシュコマンド | コマンド実行 |

---

## 10.2 スラッシュコマンド

| コマンド | 説明 | パラメータ |
|----------|------|------------|
| `/summarize` | YouTube動画を要約 | `url`: 動画URL |
| `/status` | ワークフロー状態確認 | `id`: ワークフローID |
| `/help` | ヘルプ表示 | なし |

---

## 10.3 メッセージ解析ルール

以下の優先順位で `type` を判定：

1. **URLパターンマッチ**（YouTube, Google Drive 等）
2. **ファイル添付の拡張子**
3. **自然言語解析**（AI推論）
4. **デフォルトフォールバック**

---

## 10.4 レート制限

| スコープ | 制限 |
|----------|------|
| グローバル | 50リクエスト/秒 |
| チャンネルごと | 5メッセージ/5秒 |
| ユーザーごと | 5コマンド/30秒 |

---

## 関連ドキュメント

- [プラグイン開発手順](./11-plugin-development.md)
- [環境変数](./13-environment-variables.md)
- [REST API 設計原則](./08-api-design.md)
