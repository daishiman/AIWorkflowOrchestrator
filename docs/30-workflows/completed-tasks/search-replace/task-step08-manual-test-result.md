# T-08-1: 手動テスト実施レポート

## テスト概要

- **実施日**: 2025-12-15
- **Phase**: Phase 8 - 手動テスト検証
- **タスク**: T-08-1 手動テスト実施
- **テスト環境**: macOS Darwin 24.6.0
- **アプリケーション**: AIWorkflowOrchestrator Desktop v1.0.0

---

## 実装済みUIコンポーネント

| コンポーネント       | ファイル                                     | 説明                 |
| -------------------- | -------------------------------------------- | -------------------- |
| FileSearchPanel      | `SearchPanel/FileSearchPanel.tsx`            | 単一ファイル内検索   |
| UnifiedSearchPanel   | `SearchPanel/UnifiedSearchPanel.tsx`         | 統合検索パネル       |
| WorkspaceSearchPanel | `WorkspaceSearch/WorkspaceSearchPanel.tsx`   | ワークスペース検索   |
| SearchOptionsBar     | `SearchPanel/shared/SearchOptionsBar.tsx`    | 検索オプションボタン |
| SearchInputField     | `SearchPanel/shared/SearchInputField.tsx`    | 検索入力フィールド   |
| SearchStatusDisplay  | `SearchPanel/shared/SearchStatusDisplay.tsx` | 検索ステータス表示   |
| SearchErrorMessage   | `SearchPanel/shared/SearchErrorMessage.tsx`  | エラーメッセージ表示 |

---

## 起動方法

```bash
# 開発モードで起動
cd /Users/dm/dev/dev/個人開発/AIWorkflowOrchestrator
pnpm --filter @repo/desktop dev

# または本番ビルドで起動
pnpm --filter @repo/desktop build && pnpm --filter @repo/desktop preview
```

---

## 手動テストチェックリスト

### ファイル検索（単一ファイル）

| No  | テスト項目       | 前提条件             | 操作手順           | 期待結果             | 結果        | 備考 |
| --- | ---------------- | -------------------- | ------------------ | -------------------- | ----------- | ---- |
| 1   | 基本検索         | ファイルが開いている | Cmd+F → 文字入力   | 該当箇所がハイライト | [ ] PENDING |      |
| 2   | 次の検索結果     | 検索結果あり         | Cmd+N または Enter | 次の結果に移動       | [ ] PENDING |      |
| 3   | 前の検索結果     | 検索結果あり         | Cmd+Shift+N        | 前の結果に移動       | [ ] PENDING |      |
| 4   | 大文字小文字区別 | 検索パネル表示中     | Aaボタン切り替え   | 区別された検索結果   | [ ] PENDING |      |
| 5   | 正規表現検索     | 検索パネル表示中     | .\*ボタンON        | パターンマッチ       | [ ] PENDING |      |
| 6   | 単語単位検索     | 検索パネル表示中     | abボタンON         | 単語境界でマッチ     | [ ] PENDING |      |

### ファイル置換（単一ファイル）

| No  | テスト項目   | 前提条件       | 操作手順           | 期待結果                 | 結果        | 備考 |
| --- | ------------ | -------------- | ------------------ | ------------------------ | ----------- | ---- |
| 7   | 単一置換     | 検索結果選択中 | 置換ボタンクリック | 現在の選択が置換される   | [ ] PENDING |      |
| 8   | 全置換       | 検索結果あり   | すべて置換ボタン   | 全ての該当箇所が置換     | [ ] PENDING |      |
| 9   | 置換後Undo   | 置換実行後     | Cmd+Z              | 置換が元に戻る           | [ ] PENDING |      |
| 10  | 正規表現置換 | 正規表現ON     | $1等を使用して置換 | キャプチャグループが適用 | [ ] PENDING |      |

### ワークスペース検索

| No  | テスト項目             | 前提条件               | 操作手順               | 期待結果                         | 結果        | 備考 |
| --- | ---------------------- | ---------------------- | ---------------------- | -------------------------------- | ----------- | ---- |
| 11  | 基本検索               | プロジェクト開いている | Cmd+Shift+F → 文字入力 | ファイル別に結果表示             | [ ] PENDING |      |
| 12  | ファイルジャンプ       | 検索結果あり           | 検索結果をクリック     | 該当ファイル・行に移動           | [ ] PENDING |      |
| 13  | 除外パターン           | 検索パネル表示中       | node_modules除外       | 除外されたファイルは検索されない | [ ] PENDING |      |
| 14  | ファイルタイプフィルタ | 検索パネル表示中       | \*.tsでフィルタ        | TypeScriptファイルのみ検索       | [ ] PENDING |      |

### ワークスペース置換

| No  | テスト項目       | 前提条件       | 操作手順         | 期待結果                   | 結果        | 備考 |
| --- | ---------------- | -------------- | ---------------- | -------------------------- | ----------- | ---- |
| 15  | 複数ファイル置換 | 検索結果あり   | 置換実行         | 確認後、複数ファイルが置換 | [ ] PENDING |      |
| 16  | 置換プレビュー   | 検索結果あり   | プレビューボタン | 置換結果のプレビュー表示   | [ ] PENDING |      |
| 17  | 一括Undo         | 一括置換実行後 | Cmd+Z            | 全ファイルの置換が元に戻る | [ ] PENDING |      |

### アクセシビリティ

| No  | テスト項目         | 前提条件         | 操作手順        | 期待結果                   | 結果        | 備考 |
| --- | ------------------ | ---------------- | --------------- | -------------------------- | ----------- | ---- |
| 18  | キーボード操作     | 検索パネル表示中 | Tabキーで移動   | 全要素にフォーカス移動可能 | [ ] PENDING |      |
| 19  | スクリーンリーダー | 検索パネル表示中 | VoiceOverで操作 | 適切に読み上げられる       | [ ] PENDING |      |

---

## 自動テスト結果（参考）

UIコンポーネントは自動テストで基本動作を検証済み：

| コンポーネント       | テスト数 | 結果     |
| -------------------- | -------- | -------- |
| SearchOptionsBar     | 11       | PASS     |
| SearchInputField     | 14       | PASS     |
| SearchStatusDisplay  | 14       | PASS     |
| SearchErrorMessage   | 10       | PASS     |
| useDebounce          | 17       | PASS     |
| useIMEComposition    | 12       | PASS     |
| useDebouncedCallback | 15       | PASS     |
| useSearchOptions     | 18       | PASS     |
| **合計**             | **111**  | **PASS** |

全体カバレッジ: **80.2%**

---

## テスト結果サマリー

| カテゴリ           | 合計   | PASS  | FAIL  | PENDING | 成功率 |
| ------------------ | ------ | ----- | ----- | ------- | ------ |
| ファイル検索       | 6      | -     | -     | 6       | -%     |
| ファイル置換       | 4      | -     | -     | 4       | -%     |
| ワークスペース検索 | 4      | -     | -     | 4       | -%     |
| ワークスペース置換 | 3      | -     | -     | 3       | -%     |
| アクセシビリティ   | 2      | -     | -     | 2       | -%     |
| **合計**           | **19** | **-** | **-** | **19**  | **-%** |

---

## 発見された不具合

| No  | 重要度 | カテゴリ | 内容                     | 再現手順 | ステータス |
| --- | ------ | -------- | ------------------------ | -------- | ---------- |
| -   | -      | -        | (手動テスト実施後に記録) | -        | -          |

---

## 備考

### テスト環境の注意点

1. **IME入力**: 日本語入力中はEnterキーで検索が実行されないことを確認（IME確定と区別）
2. **大量ファイル**: node_modules等を除外しないと検索に時間がかかる
3. **正規表現エラー**: 無効な正規表現入力時のエラー表示を確認

### 検索UIへのアクセス方法

- **ファイル検索**: エディタビューで `Cmd+F` (macOS) / `Ctrl+F` (Windows/Linux)
- **ワークスペース検索**: サイドバーの検索アイコンをクリック

---

## 承認

- [ ] テスト実施者: **\*\***\_\_\_\_**\*\***
- [ ] レビュアー: **\*\***\_\_\_\_**\*\***
- [ ] 実施日: **\*\***\_\_\_\_**\*\***

---

## 関連成果物

- T-06-1 品質レポート: `docs/30-workflows/search-replace/task-step06-quality-report.md`
- T-07-1 最終レビュー: `docs/30-workflows/search-replace/task-step07-review-report.md`
