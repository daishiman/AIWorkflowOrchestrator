# インシデントレポート

## 基本情報

| 項目           | 内容                           |
| -------------- | ------------------------------ |
| インシデントID | INC-YYYY-MMDD-XXX              |
| タイトル       | [簡潔なインシデント概要]       |
| 発生日時       | YYYY-MM-DD HH:MM (JST)         |
| 検知日時       | YYYY-MM-DD HH:MM (JST)         |
| 解決日時       | YYYY-MM-DD HH:MM (JST)         |
| 影響時間       | XX分 / XX時間                  |
| 重大度         | Critical / Major / Minor / Low |
| 担当者         | [名前]                         |

---

## エグゼクティブサマリー

[2-3文でインシデントの概要を記述]

例: 本番環境のAPIサーバーでメモリリークが発生し、約30分間サービスが断続的に利用不可となりました。原因はv2.3.0で導入されたキャッシュ処理のバグで、緊急パッチをリリースして解決しました。

---

## タイムライン

| 時刻 (JST) | イベント                      |
| ---------- | ----------------------------- |
| HH:MM      | [最初の異常検知/アラート発報] |
| HH:MM      | [対応開始]                    |
| HH:MM      | [原因特定]                    |
| HH:MM      | [修正適用]                    |
| HH:MM      | [サービス復旧確認]            |
| HH:MM      | [インシデントクローズ]        |

---

## 影響範囲

### 影響を受けたサービス

- [ ] Webアプリケーション
- [ ] API
- [ ] バックグラウンドジョブ
- [ ] 外部連携

### 影響を受けたユーザー

- 推定影響ユーザー数: [数値]
- 影響の種類:
  - [ ] サービス完全停止
  - [ ] 部分的な機能停止
  - [ ] パフォーマンス低下
  - [ ] データの不整合

### ビジネスインパクト

- 推定損失: [金額/数値があれば]
- 影響を受けた機能: [リスト]

---

## 根本原因分析 (RCA)

### 直接原因

[何が起きたか]

例: APIサーバーのメモリ使用量が閾値を超え、OOMKillerによりプロセスが強制終了された。

### 根本原因

[なぜそれが起きたか - 5 Whysで深掘り]

1. **Why?** メモリ使用量が増加した
2. **Why?** キャッシュオブジェクトが解放されなかった
3. **Why?** キャッシュのTTL設定が適用されていなかった
4. **Why?** v2.3.0のリファクタリングでTTL設定が削除された
5. **Why?** コードレビューで変更の影響が見逃された

**根本原因**: コードレビュープロセスでキャッシュ設定の変更チェックが不足していた

### 寄与要因

- [他に影響を与えた要因があれば]

---

## 対応内容

### 即時対応

1. [実施した対応1]
2. [実施した対応2]
3. [実施した対応3]

### 恒久対策

| 対策    | 担当   | 期限       | ステータス         |
| ------- | ------ | ---------- | ------------------ |
| [対策1] | [名前] | YYYY-MM-DD | 未着手/進行中/完了 |
| [対策2] | [名前] | YYYY-MM-DD | 未着手/進行中/完了 |

---

## 検知と対応の評価

### 検知

- アラートは適切に発報されたか: Yes / No
- 検知までの時間: XX分
- 改善点: [あれば記載]

### 対応

- 対応開始までの時間: XX分
- 解決までの時間: XX分
- エスカレーションは適切だったか: Yes / No
- 改善点: [あれば記載]

### コミュニケーション

- ステークホルダーへの通知は適切だったか: Yes / No
- ユーザーへの通知は適切だったか: Yes / No
- 改善点: [あれば記載]

---

## 再発防止策

### 短期（1週間以内）

- [ ] [対策1]
- [ ] [対策2]

### 中期（1ヶ月以内）

- [ ] [対策3]
- [ ] [対策4]

### 長期（四半期以内）

- [ ] [対策5]

---

## 学んだこと

### うまくいったこと

- [良かった点1]
- [良かった点2]

### 改善が必要なこと

- [改善点1]
- [改善点2]

### アクションアイテム

| アイテム    | 担当   | 期限       |
| ----------- | ------ | ---------- |
| [アイテム1] | [名前] | YYYY-MM-DD |
| [アイテム2] | [名前] | YYYY-MM-DD |

---

## 添付資料

- [ ] アラートのスクリーンショット
- [ ] ダッシュボードのスクリーンショット
- [ ] 関連ログ
- [ ] 関連コミット/PR

---

## 承認

| 役割     | 名前   | 日付       |
| -------- | ------ | ---------- |
| 作成者   | [名前] | YYYY-MM-DD |
| レビュー | [名前] | YYYY-MM-DD |
| 承認者   | [名前] | YYYY-MM-DD |
