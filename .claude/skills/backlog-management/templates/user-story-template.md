# ユーザーストーリーテンプレート

## 標準フォーマット

### As-I want-So that形式

```markdown
**ストーリーID**: US-XXX
**タイトル**: [簡潔な機能名]

**ストーリー**:
As a [ユーザーロール/ペルソナ]
I want to [実現したい機能]
So that [得られる価値・理由]

**受け入れ基準** (Given-When-Then):

Scenario 1: [正常系のシナリオ]
- Given [前提条件]
- When [実行するアクション]
- Then [期待される結果]

Scenario 2: [異常系のシナリオ]
- Given [前提条件]
- When [エラーを引き起こすアクション]
- Then [期待されるエラー処理]

**優先度**: High/Medium/Low
**見積もり**: [ストーリーポイント]
**スプリント**: Sprint XX
**依存関係**: [関連するストーリーID]
```

## 実践例

### 例1: ログイン機能

```markdown
**ストーリーID**: US-001
**タイトル**: ユーザーログイン機能

**ストーリー**:
As a 登録済みユーザー
I want to メールアドレスとパスワードでログイン
So that 自分のアカウントにアクセスできる

**受け入れ基準**:

Scenario 1: 正常ログイン
- Given ユーザー登録が完了している
- When 正しいメールアドレスとパスワードを入力してログインボタンをクリック
- Then ダッシュボードにリダイレクトされ、ユーザー名が表示される

Scenario 2: 誤ったパスワード
- Given ユーザー登録が完了している
- When 正しいメールアドレスと誤ったパスワードを入力
- Then 「メールアドレスまたはパスワードが正しくありません」とエラーメッセージが表示される

Scenario 3: アカウントロック
- Given 5回連続でログイン失敗
- When 6回目のログイン試行
- Then 「アカウントがロックされました。30分後に再試行してください」とメッセージが表示される

**優先度**: High
**見積もり**: 5ストーリーポイント
**スプリント**: Sprint 1
**依存関係**: US-000（ユーザー登録機能）
```

### 例2: データエクスポート機能

```markdown
**ストーリーID**: US-015
**タイトル**: CSVエクスポート機能

**ストーリー**:
As a プロジェクト管理者
I want to タスクデータをCSV形式でエクスポート
So that Excel で分析したり、他のツールにインポートできる

**受け入れ基準**:

Scenario 1: 全データのエクスポート
- Given 100件のタスクデータが存在する
- When 「すべてエクスポート」ボタンをクリック
- Then CSVファイル（tasks_YYYYMMDD.csv）がダウンロードされ、100件すべてのデータが含まれる

Scenario 2: フィルタ適用後のエクスポート
- Given タスクリストにフィルタ（ステータス=完了）を適用済み
- When 「エクスポート」ボタンをクリック
- Then フィルタされた30件のタスクのみがCSVに含まれる

Scenario 3: 大量データのエクスポート
- Given 10,000件のタスクデータが存在する
- When 「すべてエクスポート」ボタンをクリック
- Then ローディング表示が出て、30秒以内にCSVファイルがダウンロードされる

**優先度**: Medium
**見積もり**: 3ストーリーポイント
**スプリント**: Sprint 3
**依存関係**: US-012（タスク一覧表示）
```

## チェックリスト

### ストーリー作成前

- [ ] ペルソナが明確である
- [ ] ユーザー価値が明確である
- [ ] 1スプリントで完了可能なサイズである

### 受け入れ基準

- [ ] 正常系シナリオがある
- [ ] 異常系シナリオがある
- [ ] 境界値ケースを考慮している
- [ ] Given-When-Then形式で記述されている

### レビュー

- [ ] PO承認済み
- [ ] 開発チームが理解している
- [ ] 見積もり完了
- [ ] Definition of Readyを満たす
