---
name: openapi-specification
description: |
  OpenAPI 3.xä»•æ§˜ã«æº–æ‹ ã—ãŸAPIä»•æ§˜æ›¸ã®è¨­è¨ˆã¨ä½œæˆã‚’å°‚é–€ã¨ã™ã‚‹ã‚¹ã‚­ãƒ«ã€‚

  ğŸ“š ãƒªã‚½ãƒ¼ã‚¹å‚ç…§:
  ã“ã®ã‚¹ã‚­ãƒ«ã«ã¯ä»¥ä¸‹ã®ãƒªã‚½ãƒ¼ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚
  å¿…è¦ã«å¿œã˜ã¦è©²å½“ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„:

  - `.claude/skills/openapi-specification/resources/openapi-structure.md`: OpenAPI 3.x æ§‹é€ ã‚¬ã‚¤ãƒ‰
  - `.claude/skills/openapi-specification/resources/schema-design-patterns.md`: OpenAPI ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³
  - `.claude/skills/openapi-specification/resources/security-schemes.md`: OpenAPI ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ¼ãƒ è¨­è¨ˆ
  - `.claude/skills/openapi-specification/scripts/validate-openapi.mjs`: OpenAPIä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æ–‡æ¤œè¨¼ã¨æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ
  - `.claude/skills/openapi-specification/templates/endpoint-template.yaml`: å€‹åˆ¥ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šç¾©ã®YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆãƒ‘ã‚¹ã€ãƒ¡ã‚½ãƒƒãƒ‰ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹å«ã‚€ï¼‰
  - `.claude/skills/openapi-specification/templates/openapi-base-template.yaml`: å®Œå…¨ãªOpenAPI 3.xä»•æ§˜æ›¸ã®ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆinfoã€serversã€pathsæ§‹é€ å«ã‚€ï¼‰

  ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
  - æ–°è¦OpenAPIä»•æ§˜æ›¸ã‚’ä½œæˆã™ã‚‹æ™‚
  - æ—¢å­˜OpenAPIä»•æ§˜æ›¸ã‚’æ›´æ–°ã™ã‚‹æ™‚
  - ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚„ã‚¹ã‚­ãƒ¼ãƒã‚’è¨­è¨ˆã™ã‚‹æ™‚
  - OpenAPIæ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’è§£æ±ºã™ã‚‹æ™‚

version: 1.0.0
---

# OpenAPI Specification ã‚¹ã‚­ãƒ«

## æ¦‚è¦

OpenAPI 3.x ä»•æ§˜ã«æº–æ‹ ã—ãŸ API ä»•æ§˜æ›¸ã®è¨­è¨ˆã¨ä½œæˆã«é–¢ã™ã‚‹å°‚é–€çŸ¥è­˜ã‚’æä¾›ã—ã¾ã™ã€‚

## ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

```bash
# ãƒªã‚½ãƒ¼ã‚¹å‚ç…§
cat .claude/skills/openapi-specification/resources/openapi-structure.md
cat .claude/skills/openapi-specification/resources/schema-design-patterns.md
cat .claude/skills/openapi-specification/resources/security-schemes.md

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§
cat .claude/skills/openapi-specification/templates/openapi-base-template.yaml
cat .claude/skills/openapi-specification/templates/endpoint-template.yaml

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
node .claude/skills/openapi-specification/scripts/validate-openapi.mjs <openapi-file>
```

---

## çŸ¥è­˜é ˜åŸŸ 1: OpenAPI 3.x åŸºæœ¬æ§‹é€ 

### ä»•æ§˜æ›¸ã®ä¸»è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³

| ã‚»ã‚¯ã‚·ãƒ§ãƒ³   | ç›®çš„                                                        | å¿…é ˆ |
| ------------ | ----------------------------------------------------------- | ---- |
| `openapi`    | ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šï¼ˆ"3.0.x" or "3.1.x"ï¼‰                        | âœ…   |
| `info`       | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆtitle, version, description, contact, licenseï¼‰ | âœ…   |
| `servers`    | ãƒ™ãƒ¼ã‚¹ URL å®šç¾©ï¼ˆç’°å¢ƒåˆ¥ï¼‰                                   | æ¨å¥¨ |
| `paths`      | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šç¾©                                          | âœ…   |
| `components` | å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ                                    | æ¨å¥¨ |
| `security`   | ã‚°ãƒ­ãƒ¼ãƒãƒ«èªè¨¼è¦ä»¶                                          | æ¨å¥¨ |
| `tags`       | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚«ãƒ†ã‚´ãƒªåˆ†é¡                                  | æ¨å¥¨ |

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³é¸æŠåŸºæº–

- **3.0.x**: åºƒç¯„ãªãƒ„ãƒ¼ãƒ«ã‚µãƒãƒ¼ãƒˆã€æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- **3.1.x**: JSON Schema å®Œå…¨äº’æ›ã€Webhook å¯¾å¿œã€æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

---

## çŸ¥è­˜é ˜åŸŸ 2: ãƒ‘ã‚¹ï¼ˆPathsï¼‰è¨­è¨ˆ

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ§‹é€ 

å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«å«ã‚ã‚‹ã¹ãè¦ç´ :

| è¦ç´           | èª¬æ˜                                   | å¿…é ˆ                  |
| ------------- | -------------------------------------- | --------------------- |
| `summary`     | 1 è¡Œèª¬æ˜ï¼ˆ<50 æ–‡å­—ï¼‰                   | âœ…                    |
| `description` | è©³ç´°èª¬æ˜ï¼ˆMarkdown å¯¾å¿œï¼‰              | æ¨å¥¨                  |
| `operationId` | ä¸€æ„ã®æ“ä½œè­˜åˆ¥å­                       | âœ…                    |
| `tags`        | ã‚«ãƒ†ã‚´ãƒªåˆ†é¡                           | æ¨å¥¨                  |
| `parameters`  | ãƒ‘ã‚¹/ã‚¯ã‚¨ãƒª/ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿         | æ¡ä»¶ä»˜ã              |
| `requestBody` | ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£                       | POST/PUT/PATCH ã§å¿…è¦ |
| `responses`   | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰åˆ¥ãƒ¬ã‚¹ãƒãƒ³ã‚¹           | âœ…                    |
| `security`    | èªè¨¼è¦ä»¶ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰ | æ¡ä»¶ä»˜ã              |

### HTTP ãƒ¡ã‚½ãƒƒãƒ‰ä½¿ç”¨è¦ç´„

| ãƒ¡ã‚½ãƒƒãƒ‰ | ç”¨é€”             | å†ªç­‰æ€§ | ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ |
| -------- | ---------------- | ------ | ---------------- |
| GET      | ãƒªã‚½ãƒ¼ã‚¹å–å¾—     | âœ…     | ãªã—             |
| POST     | ãƒªã‚½ãƒ¼ã‚¹ä½œæˆ     | âŒ     | å¿…è¦             |
| PUT      | ãƒªã‚½ãƒ¼ã‚¹å®Œå…¨ç½®æ› | âœ…     | å¿…è¦             |
| PATCH    | ãƒªã‚½ãƒ¼ã‚¹éƒ¨åˆ†æ›´æ–° | âœ…     | å¿…è¦             |
| DELETE   | ãƒªã‚½ãƒ¼ã‚¹å‰Šé™¤     | âœ…     | ãªã—             |

---

## çŸ¥è­˜é ˜åŸŸ 3: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆComponentsï¼‰è¨­è¨ˆ

### å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—

| ã‚¿ã‚¤ãƒ—            | ç”¨é€”                 | å‚ç…§æ–¹æ³•                                       |
| ----------------- | -------------------- | ---------------------------------------------- |
| `schemas`         | ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®šç¾©     | `$ref: '#/components/schemas/User'`            |
| `responses`       | å…±é€šãƒ¬ã‚¹ãƒãƒ³ã‚¹å®šç¾©   | `$ref: '#/components/responses/NotFound'`      |
| `parameters`      | å…±é€šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®šç¾©   | `$ref: '#/components/parameters/PageLimit'`    |
| `requestBodies`   | å…±é€šãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ | `$ref: '#/components/requestBodies/UserInput'` |
| `headers`         | å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼å®šç¾©     | `$ref: '#/components/headers/X-Rate-Limit'`    |
| `securitySchemes` | èªè¨¼ã‚¹ã‚­ãƒ¼ãƒ å®šç¾©     | security è¨­å®šã§å‚ç…§                            |
| `links`           | æ“ä½œé–“ãƒªãƒ³ã‚¯         | HATEOAS å®Ÿè£…                                   |
| `callbacks`       | Webhook å®šç¾©         | éåŒæœŸæ“ä½œ                                     |

### ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆåŸå‰‡

1. **DRY åŸå‰‡**: è¤‡æ•°ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ä½¿ç”¨ã•ã‚Œã‚‹ã‚¹ã‚­ãƒ¼ãƒã¯æŠ½å‡º
2. **å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ˜ç¤º**: `required`é…åˆ—ã§å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆ—æŒ™
3. **èª¬æ˜è¿½åŠ **: å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«`description`ã‚’ä»˜ä¸
4. **å‹åˆ¶ç´„**: `format`ã€`minLength`ã€`maxLength`ã€`pattern`ã‚’æ´»ç”¨
5. **ä¾‹ç¤ºå€¤**: `example`ã¾ãŸã¯`examples`ã‚’è¿½åŠ 

---

## çŸ¥è­˜é ˜åŸŸ 4: ãƒ‡ãƒ¼ã‚¿å‹ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

### åŸºæœ¬å‹

| type      | format      | ç”¨é€”                        |
| --------- | ----------- | --------------------------- |
| `string`  | -           | ä¸€èˆ¬æ–‡å­—åˆ—                  |
| `string`  | `date`      | ISO 8601 æ—¥ä»˜ï¼ˆYYYY-MM-DDï¼‰ |
| `string`  | `date-time` | ISO 8601 æ—¥æ™‚               |
| `string`  | `email`     | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹              |
| `string`  | `uri`       | URI å½¢å¼                    |
| `string`  | `uuid`      | UUID å½¢å¼                   |
| `string`  | `password`  | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆUI éè¡¨ç¤ºï¼‰     |
| `integer` | `int32`     | 32 ãƒ“ãƒƒãƒˆæ•´æ•°               |
| `integer` | `int64`     | 64 ãƒ“ãƒƒãƒˆæ•´æ•°               |
| `number`  | `float`     | å˜ç²¾åº¦æµ®å‹•å°æ•°ç‚¹            |
| `number`  | `double`    | å€ç²¾åº¦æµ®å‹•å°æ•°ç‚¹            |
| `boolean` | -           | çœŸå½å€¤                      |
| `array`   | -           | é…åˆ—ï¼ˆitems å¿…é ˆï¼‰          |
| `object`  | -           | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ                |

### åˆ¶ç´„ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| åˆ¶ç´„                      | é©ç”¨å‹         | èª¬æ˜                  |
| ------------------------- | -------------- | --------------------- |
| `minLength` / `maxLength` | string         | æ–‡å­—åˆ—é•·åˆ¶ç´„          |
| `pattern`                 | string         | æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³      |
| `minimum` / `maximum`     | number/integer | æ•°å€¤ç¯„å›²              |
| `minItems` / `maxItems`   | array          | é…åˆ—é•·åˆ¶ç´„            |
| `uniqueItems`             | array          | è¦ç´ ä¸€æ„æ€§            |
| `enum`                    | any            | åˆ—æŒ™å€¤åˆ¶ç´„            |
| `nullable`                | any            | null è¨±å¯             |
| `readOnly` / `writeOnly`  | any            | èª­ã¿å–ã‚Š/æ›¸ãè¾¼ã¿å°‚ç”¨ |

---

## çŸ¥è­˜é ˜åŸŸ 5: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ¼ãƒ 

### èªè¨¼ã‚¿ã‚¤ãƒ—

| type            | ç”¨é€”           | è¨­å®šä¾‹                 |
| --------------- | -------------- | ---------------------- |
| `apiKey`        | API ã‚­ãƒ¼èªè¨¼   | ãƒ˜ãƒƒãƒ€ãƒ¼/ã‚¯ã‚¨ãƒª/Cookie |
| `http`          | HTTP èªè¨¼      | Basicã€Bearer          |
| `oauth2`        | OAuth 2.0      | å„ç¨®ãƒ•ãƒ­ãƒ¼             |
| `openIdConnect` | OpenID Connect | OIDC Discovery         |

### ã‚°ãƒ­ãƒ¼ãƒãƒ« vs ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ¥

```yaml
# ã‚°ãƒ­ãƒ¼ãƒãƒ«ï¼ˆå…¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«é©ç”¨ï¼‰
security:
  - BearerAuth: []

# ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ¥ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
paths:
  /public:
    get:
      security: [] # èªè¨¼ä¸è¦
```

---

## åˆ¤æ–­åŸºæº–ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### æ§‹é€ å“è³ª

- [ ] `openapi`ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
- [ ] `info`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã« titleã€versionã€description ãŒã‚ã‚‹ã‹ï¼Ÿ
- [ ] `servers`ã«ç’°å¢ƒåˆ¥ URL ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå“è³ª

- [ ] ã™ã¹ã¦ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«`summary`ãŒã‚ã‚‹ã‹ï¼Ÿ
- [ ] ã™ã¹ã¦ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ä¸€æ„ã®`operationId`ãŒã‚ã‚‹ã‹ï¼Ÿ
- [ ] é©åˆ‡ãª`tags`ã§ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ

### ã‚¹ã‚­ãƒ¼ãƒå“è³ª

- [ ] å…±é€šã‚¹ã‚­ãƒ¼ãƒãŒ`components/schemas`ã«æŠ½å‡ºã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
- [ ] å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒ`required`ã§æ˜ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
- [ ] å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«`description`ãŒã‚ã‚‹ã‹ï¼Ÿ

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å“è³ª

- [ ] èªè¨¼ãŒå¿…è¦ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«`security`ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
- [ ] `securitySchemes`ãŒé©åˆ‡ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ

---

## é–¢é€£ã‚¹ã‚­ãƒ«

- `.claude/skills/swagger-ui/SKILL.md`: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ
- `.claude/skills/api-versioning/SKILL.md`: ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥
- `.claude/skills/request-response-examples/SKILL.md`: å®Ÿä¾‹è¿½åŠ 

---

## å¤‰æ›´å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜       | å¤‰æ›´å†…å®¹     |
| ---------- | ---------- | ------------ |
| 1.0.0      | 2025-11-27 | åˆç‰ˆãƒªãƒªãƒ¼ã‚¹ |
