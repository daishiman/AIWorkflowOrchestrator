# トピックタイプ

## 概要

DITAの3つの基本トピックタイプと、その派生型を説明します。各タイプには固有の目的と構造があります。

## Concept（概念）

### 目的

- 「何か」「なぜか」を説明
- 背景知識と理解を提供
- 定義、原則、アーキテクチャを記述

### 構造

```markdown
# [概念名]

## 概要
[概念の簡潔な定義]

## 詳細説明
[概念の詳細な説明]

### サブセクション
[必要に応じて分割]

## 例
[具体例で理解を補助]

## 関連概念
- [関連する概念へのリンク]
```

### 例

```markdown
# OAuth 2.0認証

## 概要
OAuth 2.0は、リソース所有者の代わりにアプリケーションが
保護されたリソースにアクセスするための認可フレームワークです。

## 主要な構成要素

### リソースオーナー
保護されたリソースへのアクセスを許可できるエンティティ。

### クライアント
リソースオーナーの代わりにリソースサーバーにアクセスするアプリケーション。

### 認可サーバー
認証後にアクセストークンを発行するサーバー。

## フローの種類
1. Authorization Code Flow
2. Implicit Flow
3. Client Credentials Flow
4. Resource Owner Password Flow
```

## Task（タスク）

### 目的

- 「どうやるか」を説明
- 手順を順序立てて記述
- 完了可能なゴールを持つ

### 構造

```markdown
# [動詞 + 目的語]

## 概要
[このタスクで達成すること]

## 前提条件
- [必要な準備1]
- [必要な準備2]

## 手順

### 1. [最初のステップ]
[詳細な説明]

### 2. [次のステップ]
[詳細な説明]

## 結果
[タスク完了後の状態]

## 次のステップ
- [関連タスクへのリンク]
```

### 例

```markdown
# OAuth 2.0を設定する

## 概要
このタスクでは、アプリケーションにOAuth 2.0認証を設定します。

## 前提条件
- 管理者権限を持つアカウント
- クライアントID/シークレットを発行済み

## 手順

### 1. 環境変数を設定する

```bash
export OAUTH_CLIENT_ID="your_client_id"
export OAUTH_CLIENT_SECRET="your_client_secret"
```

### 2. コールバックURLを登録する

1. 開発者コンソールにログイン
2. **アプリケーション設定** > **認証**を選択
3. コールバックURLを入力：`https://your-app.com/callback`

### 3. 設定をテストする

```bash
pnpm run test:auth
```

## 結果
OAuth 2.0認証が有効になり、ユーザーがログインできるようになります。

## 次のステップ
- [スコープを設定する](./configure-scopes.md)
- [トークンの有効期限を設定する](./configure-token-expiry.md)
```

## Reference（リファレンス）

### 目的

- 事実情報を提供
- 検索・参照用の詳細データ
- API仕様、設定オプション、エラーコード

### 構造

```markdown
# [リファレンス名]

## 概要
[このリファレンスの内容]

## [カテゴリ1]

| 項目 | 型 | 説明 |
|:-----|:---|:-----|
| item1 | string | 説明 |
| item2 | number | 説明 |

## [カテゴリ2]
[表形式またはリスト形式で情報を整理]

## 関連情報
- [関連リファレンス]
```

### 例

```markdown
# OAuth 2.0 エラーコード

## 概要
OAuth 2.0認証で発生するエラーコードの一覧です。

## 認可エラー

| コード | 説明 | 対処方法 |
|:-------|:-----|:---------|
| `invalid_request` | リクエストパラメータが不正 | 必須パラメータを確認 |
| `unauthorized_client` | クライアントが認可されていない | クライアント登録を確認 |
| `access_denied` | リソースオーナーが拒否 | 権限を確認 |
| `invalid_scope` | スコープが無効 | 有効なスコープを指定 |

## トークンエラー

| コード | 説明 | 対処方法 |
|:-------|:-----|:---------|
| `invalid_grant` | 認可コードが無効 | 新しいコードを取得 |
| `expired_token` | トークンが期限切れ | トークンを更新 |
```

## トピックタイプの選択

| 質問 | タイプ |
|:-----|:-------|
| 「それは何ですか？」 | Concept |
| 「なぜ重要ですか？」 | Concept |
| 「どうやりますか？」 | Task |
| 「手順は何ですか？」 | Task |
| 「詳細仕様は？」 | Reference |
| 「オプション一覧は？」 | Reference |

## 派生トピックタイプ

| タイプ | 基底 | 用途 |
|:-------|:-----|:-----|
| Troubleshooting | Task | 問題解決手順 |
| Glossary | Reference | 用語集 |
| FAQ | Concept + Task | よくある質問 |
| Tutorial | Task（複合） | 学習用の連続タスク |
