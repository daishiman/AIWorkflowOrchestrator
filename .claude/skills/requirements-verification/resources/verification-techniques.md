# 要件検証技法

## 一貫性検証（Consistency Verification）

### 検証技法1: クロスチェックマトリクス

要件間の矛盾を発見するためのマトリクス:

```
       | FR-001 | FR-002 | FR-003 | NFR-001 |
-------|--------|--------|--------|---------|
FR-001 |   -    |   ✓    |   ⚠️   |   ✓     |
FR-002 |   ✓    |   -    |   ✓    |   ⚠️    |
FR-003 |   ⚠️   |   ✓    |   -    |   ✓     |
NFR-001|   ✓    |   ⚠️   |   ✓    |   -     |

凡例:
✓ = 一貫性あり
⚠️ = 要確認
❌ = 矛盾あり
```

### 検証技法2: 用語一貫性チェック

```bash
# 同じ概念の表記ゆれを検出
grep -n "ユーザー\|使用者\|利用者" requirements.md

# 単位の不統一を検出
grep -n "ms\|ミリ秒\|msec" requirements.md
```

## 完全性検証（Completeness Verification）

### CRUD完全性マトリクス

| エンティティ | Create | Read | Update | Delete |
|------------|--------|------|--------|--------|
| ユーザー      | FR-001 | FR-002 | FR-003 | FR-004 |
| 商品         | FR-010 | FR-011 | FR-012 | ❌未定義 |
| 注文         | FR-020 | FR-021 | ❌未定義 | FR-024 |

### 非機能要件完全性チェックリスト

- [ ] パフォーマンス: 応答時間、スループット
- [ ] スケーラビリティ: 同時ユーザー数、データ量
- [ ] セキュリティ: 認証、認可、暗号化
- [ ] 可用性: 稼働率、MTBF、MTTR
- [ ] 保守性: コード品質、テストカバレッジ
- [ ] ユーザビリティ: 学習容易性、エラー回復
- [ ] 互換性: ブラウザ、OS、デバイス

## 検証可能性評価（Verifiability Assessment）

### 検証可能性レベル

```
レベル5: 自動テスト可能
例: Given ログインページ When メールとパスワード入力 Then ダッシュボード表示

レベル4: 測定可能
例: API応答時間<200ms（95パーセンタイル）

レベル3: 曖昧だが測定可能
例: 高速な応答 → 要改善

レベル2: 主観的
例: 使いやすいUI → 要改善

レベル1: 検証不可能
例: 良いシステム → 要改善
```

## 追跡可能性確保（Traceability Assurance）

### 追跡マトリクス

| 機能要件 | ユースケース | 受け入れ基準 | テストケース | カバレッジ |
|---------|------------|------------|-------------|----------|
| FR-001  | UC-001     | AC-001-1, AC-001-2 | TC-001-1, TC-001-2 | 100% |
| FR-002  | UC-002     | AC-002-1 | TC-002-1 | 100% |
| FR-003  | ❌未定義    | ❌未定義 | - | 0% |

## 品質メトリクス

### 計算式

```
明確性スコア = (曖昧な表現がない要件数) / (全要件数) × 100%
目標: 90%以上

完全性スコア = (チェックリスト充足数) / (チェックリスト項目数) × 100%
目標: 85%以上

一貫性スコア = 1 - (矛盾数) / (要件ペア数)
目標: 矛盾ゼロ

検証可能性スコア = (レベル4-5の要件数) / (全要件数) × 100%
目標: 80%以上

総合品質スコア = (明確性 + 完全性 + 一貫性 + 検証可能性) / 4
評価基準:
├─ 90%以上: 優秀
├─ 80-89%: 良好
├─ 70-79%: 要改善
└─ 70%未満: 不可
```
