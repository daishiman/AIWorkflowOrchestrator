# プロンプト設計テンプレート

このテンプレートは、効果的なエージェントプロンプトを設計するためのガイドです。

---

## テンプレート構造

### 1. 役割定義（必須）

```markdown
あなたは **{{agent-name}}** です。

{{role-description}}

**専門分野**:
- {{specialty-1}}
- {{specialty-2}}
- {{specialty-3}}
```

**ポイント**:
- 役割は1-2文で明確に
- 専門分野は3-5項目
- 具体的かつ測定可能な表現

---

### 2. タスク範囲（必須）

```markdown
## 責任範囲

このエージェントが担当するタスク:

1. **{{task-1}}**
   - 説明: {{task-1-description}}
   - 成果物: {{task-1-output}}

2. **{{task-2}}**
   - 説明: {{task-2-description}}
   - 成果物: {{task-2-output}}

3. **{{task-3}}**
   - 説明: {{task-3-description}}
   - 成果物: {{task-3-output}}
```

**ポイント**:
- 各タスクに具体的な成果物を定義
- 優先順位を明確に
- 曖昧な表現を避ける

---

### 3. 制約条件（必須）

```markdown
## 制約

### 実施しないこと

1. **{{constraint-1}}**
   - 理由: {{constraint-1-reason}}
   - 代わりに: {{constraint-1-alternative}}

2. **{{constraint-2}}**
   - 理由: {{constraint-2-reason}}
   - 代わりに: {{constraint-2-alternative}}

### 禁止事項

- ❌ {{prohibition-1}}
- ❌ {{prohibition-2}}
- ❌ {{prohibition-3}}
```

**ポイント**:
- 禁止事項には理由を添える
- 代替手段を提案する
- 具体的な例を含める

---

### 4. 出力形式（推奨）

```markdown
## 成果物フォーマット

### {{output-type-1}}

**形式**: {{format-description}}

**テンプレート**:
\`\`\`{{language}}
{{output-template}}
\`\`\`

**例**:
\`\`\`{{language}}
{{output-example}}
\`\`\`
```

**ポイント**:
- 期待する出力形式を明示
- 具体例を必ず含める
- 複数の出力タイプを定義

---

### 5. ワークフロー（推奨）

```markdown
## ワークフロー

### Phase 1: {{phase-1-name}}

**目的**: {{phase-1-purpose}}

**手順**:
1. {{step-1-1}}
2. {{step-1-2}}
3. {{step-1-3}}

**成果物**: {{phase-1-output}}

### Phase 2: {{phase-2-name}}

**目的**: {{phase-2-purpose}}

**手順**:
1. {{step-2-1}}
2. {{step-2-2}}
3. {{step-2-3}}

**成果物**: {{phase-2-output}}
```

**ポイント**:
- フェーズごとに目的と成果物を定義
- 手順は具体的かつ実行可能に
- 判断ポイントを明示

---

### 6. 例示（推奨）

```markdown
## 使用例

### 例1: {{example-1-title}}

**入力**:
{{example-1-input}}

**処理**:
{{example-1-process}}

**出力**:
{{example-1-output}}

### 例2: {{example-2-title}}

**入力**:
{{example-2-input}}

**処理**:
{{example-2-process}}

**出力**:
{{example-2-output}}
```

**ポイント**:
- 典型的なケースと境界ケースを含める
- 入力→処理→出力の流れを明示
- 実際の値を使用

---

## チェックリスト

### 必須要素
- [ ] 役割定義が1-2文で明確か？
- [ ] タスク範囲が具体的か？
- [ ] 制約条件が明記されているか？

### 推奨要素
- [ ] 出力形式が定義されているか？
- [ ] ワークフローが明確か？
- [ ] 具体例が含まれているか？

### 品質チェック
- [ ] 曖昧な表現（「適宜」「など」）がないか？
- [ ] 矛盾する指示がないか？
- [ ] 長すぎる文がないか？

---

## アンチパターン

### 避けるべき表現

| 避けるべき | 代替表現 |
|-----------|---------|
| 適宜 | 「条件Xの場合はYを、条件Zの場合はWを」 |
| 必要に応じて | 「〇〇が〇〇の場合は実施」 |
| など | 具体的な項目をすべて列挙 |
| いくつかの | 「3-5個の」のように具体的な数値 |
| できるだけ | 具体的な基準値を設定 |

### 避けるべきパターン

❌ **曖昧な役割定義**
```markdown
あなたは開発を手伝うエージェントです。
```

✅ **明確な役割定義**
```markdown
あなたは **Code Reviewer** です。
TypeScriptコードのセキュリティ脆弱性と
パフォーマンス問題を検出し、修正案を提示します。
```

❌ **過度に長い指示**
```markdown
このエージェントはコードを分析して問題を見つけてその問題に対する解決策を考えてその解決策を実装して実装したコードをテストしてテストが通ったらドキュメントを更新してプルリクエストを作成します。
```

✅ **構造化された指示**
```markdown
## ワークフロー

1. コード分析
2. 問題特定
3. 解決策提案
4. 実装
5. テスト
6. ドキュメント更新
7. PR作成
```

---

## 変数説明

| 変数 | 説明 | 例 |
|------|------|-----|
| `{{agent-name}}` | エージェント名 | Code Reviewer |
| `{{role-description}}` | 役割の説明 | コードの品質を評価し改善提案を行う |
| `{{specialty-n}}` | 専門分野 | セキュリティ脆弱性検出 |
| `{{task-n}}` | タスク名 | コードレビュー実施 |
| `{{constraint-n}}` | 制約事項 | コードの直接修正は行わない |
| `{{phase-n-name}}` | フェーズ名 | 分析フェーズ |
| `{{example-n-title}}` | 例のタイトル | 認証コードのレビュー |
