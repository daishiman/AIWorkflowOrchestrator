# HIGタイポグラフィとカラーシステム

## San Franciscoフォントシステム

### フォントファミリー

| ファミリー         | 用途                   | サイズ範囲 |
| ------------------ | ---------------------- | ---------- |
| **SF Pro Display** | 見出し、大きなテキスト | 20pt以上   |
| **SF Pro Text**    | 本文、小さなテキスト   | 19pt以下   |
| **SF Mono**        | コード、等幅テキスト   | 全サイズ   |
| **SF Compact**     | watchOS、狭い領域      | 全サイズ   |
| **SF Pro Rounded** | 親しみやすい印象       | 全サイズ   |

### テキストスタイル一覧

| スタイル        | サイズ | ウェイト     | 用途               |
| --------------- | ------ | ------------ | ------------------ |
| **Large Title** | 34pt   | Regular      | メイン画面タイトル |
| **Title 1**     | 28pt   | Regular      | セクションヘッダー |
| **Title 2**     | 22pt   | Regular      | サブセクション     |
| **Title 3**     | 20pt   | Regular      | 三次ヘッダー       |
| **Headline**    | 17pt   | **Semibold** | 強調本文           |
| **Body**        | 17pt   | Regular      | メインコンテンツ   |
| **Callout**     | 16pt   | Regular      | 補足テキスト       |
| **Subheadline** | 15pt   | Regular      | 見出し補足         |
| **Footnote**    | 13pt   | Regular      | 注釈               |
| **Caption 1**   | 12pt   | Regular      | キャプション       |
| **Caption 2**   | 11pt   | Regular      | **最小ラベル**     |

### 重要な制限

**最小フォントサイズ: 11pt（Caption 2）**

これより小さいテキストは使用禁止。
アクセシビリティとリーダビリティの最低ラインである。

---

## Dynamic Type

### 概要

Dynamic Typeはユーザーが設定アプリで選択したテキストサイズに
アプリが自動的に対応する仕組み。

### サイズカテゴリ

**標準サイズ（12段階）**:
| カテゴリ | 説明 |
|---------|------|
| xSmall | 最小 |
| Small | 小さめ |
| Medium | やや小さめ |
| **Large（デフォルト）** | 標準 |
| xLarge | やや大きめ |
| xxLarge | 大きめ |
| xxxLarge | 最大 |

**アクセシビリティサイズ（5段階追加）**:
| カテゴリ | 説明 |
|---------|------|
| AX1 | アクセシビリティ1 |
| AX2 | アクセシビリティ2 |
| AX3 | アクセシビリティ3 |
| AX4 | アクセシビリティ4 |
| AX5 | **最大（200%以上）** |

### 対応要件

**必須**:

- すべてのテキストスタイルがDynamic Typeに対応
- 最低200%までのスケーリング対応
- 極端なサイズでレイアウトが崩れないこと

**チェックリスト**:

- [ ] すべてのサイズカテゴリでテスト済みか？
- [ ] テキストが切り詰められていないか？
- [ ] レイアウトが適切に調整されるか？
- [ ] アクセシビリティサイズでも機能するか？

---

## カラーシステム

### システムカラー（ライトモード）

| カラー名          | Hex     | RGB          | 用途                     |
| ----------------- | ------- | ------------ | ------------------------ |
| **System Blue**   | #007AFF | 0, 122, 255  | プライマリアクション     |
| **System Red**    | #FF3B30 | 255, 59, 48  | 破壊的アクション、エラー |
| **System Green**  | #34C759 | 52, 199, 89  | 成功、確認               |
| **System Orange** | #FF9500 | 255, 149, 0  | 警告                     |
| **System Yellow** | #FFCC00 | 255, 204, 0  | 注意                     |
| **System Pink**   | #FF2D55 | 255, 45, 85  | 特別なアクセント         |
| **System Purple** | #AF52DE | 175, 82, 222 | クリエイティブ           |
| **System Teal**   | #5AC8FA | 90, 200, 250 | 情報                     |
| **System Indigo** | #5856D6 | 88, 86, 214  | アクセント               |

### ダークモードカラー

| カラー名      | Hex（ダーク） | 変化       |
| ------------- | ------------- | ---------- |
| System Blue   | #0A84FF       | より明るく |
| System Red    | #FF453A       | より明るく |
| System Green  | #30D158       | より明るく |
| System Orange | #FF9F0A       | より明るく |
| System Yellow | #FFD60A       | より明るく |

### セマンティックカラー

**ラベル系**:
| カラー | 用途 | ライト | ダーク |
|-------|------|--------|--------|
| `.label` | 主要テキスト | 黒 | 白 |
| `.secondaryLabel` | 二次テキスト | グレー | ライトグレー |
| `.tertiaryLabel` | 三次テキスト | より薄いグレー | より薄いグレー |
| `.quaternaryLabel` | 最も薄いテキスト | 非常に薄いグレー | 非常に薄いグレー |

**背景系**:
| カラー | 用途 | ライト | ダーク |
|-------|------|--------|--------|
| `.systemBackground` | 主背景 | 白 | 黒 |
| `.secondarySystemBackground` | 二次背景 | 薄いグレー | ダークグレー |
| `.tertiarySystemBackground` | 三次背景 | より薄いグレー | よりダークなグレー |

**分離系**:
| カラー | 用途 |
|-------|------|
| `.separator` | 標準区切り線 |
| `.opaqueSeparator` | 不透明な区切り線 |

---

## カラーコントラスト要件

### WCAG基準

| テキストタイプ                 | 最小コントラスト比 |
| ------------------------------ | ------------------ |
| **通常テキスト（18pt未満）**   | **4.5:1以上**      |
| 大きいテキスト（18pt以上）     | 3:1以上            |
| UIコンポーネント・グラフィック | 3:1以上            |
| **カスタムカラー推奨**         | **7:1**            |

### コントラスト計算例

**良い例**:

- 白背景 + System Blue (#007AFF) = 約4.5:1 ✅
- 白背景 + 黒テキスト (#000000) = 21:1 ✅

**悪い例**:

- 白背景 + 薄いグレー (#CCCCCC) = 約1.6:1 ❌
- 黄色背景 + 白テキスト = 約1.1:1 ❌

### チェックリスト

- [ ] 通常テキストは4.5:1以上か？
- [ ] 大きいテキストは3:1以上か？
- [ ] ダークモードでも基準を満たすか？
- [ ] 色覚異常者でも識別可能か？

---

## 色の使用ガイドライン

### 意味を持つ色

**情報伝達に使用する場合**:

- 色だけに依存しない
- アイコンやテキストも併用
- 色覚異常を考慮

**例**:

- ❌ 赤=エラー、緑=成功（色だけで判断）
- ✅ 赤+「×」=エラー、緑+「✓」=成功

### ブランドカラーの使用

**推奨**:

- アクセントに限定
- システムカラーと調和
- アクセシビリティ基準を満たす

**非推奨**:

- 背景全体をブランドカラーに
- コントラスト不足の組み合わせ
- システムカラーの完全な置き換え

---

## ダークモード対応

### 自動適応

**セマンティックカラーを使用する利点**:

- ライト/ダークモードで自動切り替え
- システム設定に追従
- コード変更不要

### 避けるべきこと

**ハードコードされた色**:

```swift
// ❌ 避ける
view.backgroundColor = UIColor.white

// ✅ 推奨
view.backgroundColor = UIColor.systemBackground
```

### テスト項目

- [ ] ライトモードで視認性確保
- [ ] ダークモードで視認性確保
- [ ] 高コントラストモードで動作
- [ ] 色反転モードで動作

---

## Appleカラーリソース

### 入手先

**SF Symbolsアプリ**:

- システムカラーのプレビュー
- カスタムシンボルへの色適用

**Design Resources**:

- Figma/Sketchでのカラーパレット
- UIKit/SwiftUIカラー定義

### コード参照

**SwiftUI**:

```swift
Color.blue       // System Blue
Color.red        // System Red
Color.primary    // ラベルカラー
Color.secondary  // 二次ラベルカラー
```

**UIKit**:

```swift
UIColor.systemBlue
UIColor.systemRed
UIColor.label
UIColor.secondaryLabel
```

---

## 参考文献

- Apple Human Interface Guidelines - Typography
- Apple Human Interface Guidelines - Color
- WCAG 2.1 - 1.4.3 Contrast (Minimum)
- Apple Design Resources - Color Palettes
