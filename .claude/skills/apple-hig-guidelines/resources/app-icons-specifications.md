# HIG App Icons 仕様書

## アイコンサイズ一覧

### iOS / iPadOS

| 用途 | サイズ (px) | @1x | @2x | @3x |
|-----|-----------|-----|-----|-----|
| **App Store** | 1024×1024 | - | - | ✅ |
| **iPhone (App)** | 60×60 | - | 120×120 | 180×180 |
| **iPad Pro (App)** | 83.5×83.5 | - | 167×167 | - |
| **iPad (App)** | 76×76 | - | 152×152 | - |
| **iPhone (Spotlight)** | 40×40 | - | 80×80 | 120×120 |
| **iPad (Spotlight)** | 40×40 | - | 80×80 | - |
| **iPhone (設定)** | 29×29 | - | 58×58 | 87×87 |
| **iPad (設定)** | 29×29 | - | 58×58 | - |
| **通知** | 20×20 | - | 40×40 | 60×60 |

### macOS

| 用途 | サイズ (px) |
|-----|-----------|
| **App Store** | 1024×1024 |
| **512pt** | 512×512, 1024×1024 (@2x) |
| **256pt** | 256×256, 512×512 (@2x) |
| **128pt** | 128×128, 256×256 (@2x) |
| **32pt** | 32×32, 64×64 (@2x) |
| **16pt** | 16×16, 32×32 (@2x) |

### watchOS

| 用途 | サイズ (px) |
|-----|-----------|
| **App Store** | 1024×1024 |
| **ホーム画面 (38mm)** | 80×80 |
| **ホーム画面 (40-41mm)** | 88×88 |
| **ホーム画面 (44-45mm)** | 100×100 |
| **ホーム画面 (49mm)** | 108×108 |
| **通知** | 48×48 - 66×66 |
| **Short Look** | 172×172 - 234×234 |
| **コンプリケーション** | 32×32 - 50×50 |

### tvOS

| 用途 | サイズ (px) |
|-----|-----------|
| **App Store** | 1280×768 |
| **ホーム画面 (大)** | 800×480 |
| **ホーム画面 (小)** | 400×240 |
| **Top Shelf (Wide)** | 2320×720 |
| **Top Shelf (標準)** | 1920×720 |

### visionOS

| 用途 | サイズ (px) |
|-----|-----------|
| **App Store** | 1024×1024 |
| **ホーム画面** | 512×512 (3層構造) |

---

## Squircle（連続曲線）仕様

### 定義

AppleのSquircleは通常の角丸（`border-radius`）とは異なる連続曲線を使用。

```
通常の角丸:    曲線が突然始まる
Squircle:     曲線が徐々に始まり、滑らかに遷移
```

### 数学的定義

**スーパー楕円方程式**:
```
|x/a|^n + |y/b|^n = 1
```

Appleは n ≈ 4〜5 を使用（標準楕円は n=2）

### CSS近似実装

```css
/* 標準角丸（推奨しない） */
.standard-rounded {
  border-radius: 20%;
}

/* Squircle近似 */
.squircle {
  /* SVG clipPathを使用 */
  clip-path: url(#squircle-clip);
}

/* または複数の角丸を組み合わせ */
.squircle-approximate {
  border-radius: 22% 22% 22% 22% / 22% 22% 22% 22%;
  /* さらにマスク適用 */
}
```

### SVG Squircle パス

```svg
<svg viewBox="0 0 100 100">
  <clipPath id="squircle-clip">
    <path d="
      M 50,0
      C 80,0 100,20 100,50
      C 100,80 80,100 50,100
      C 20,100 0,80 0,50
      C 0,20 20,0 50,0
      Z
    "/>
  </clipPath>
</svg>
```

### アイコンサイズ別角丸値

| サイズ | 角丸半径 | 比率 |
|-------|---------|------|
| 1024px | 224px | ~22% |
| 180px | 40px | ~22% |
| 120px | 26px | ~22% |
| 80px | 18px | ~22% |
| 60px | 13px | ~22% |
| 40px | 9px | ~22% |
| 29px | 6px | ~22% |

---

## アイコンデザインガイドライン

### 基本原則

1. **シンプルさ**: 認識しやすい単一の形状
2. **一貫性**: アプリのブランドと一致
3. **視認性**: 小サイズでも明確
4. **独自性**: 他アプリと区別可能

### グリッドシステム

```
┌────────────────────────────────────┐
│                                    │
│    ┌────────────────────────┐     │
│    │                        │     │
│    │      セーフエリア       │     │
│    │      (88% x 88%)       │     │
│    │                        │     │
│    └────────────────────────┘     │
│                                    │
│    マージン: 6%（各辺）            │
│                                    │
└────────────────────────────────────┘
```

### 禁止事項

```
❌ 写真や複雑な画像
❌ 透明な背景（iOS）
❌ テキスト過多
❌ 細すぎる線（1px）
❌ システムアイコンの流用
❌ Apple製品の描写
```

### 推奨事項

```
✅ 単一のフォーカスポイント
✅ 鮮やかな色使い
✅ グラデーションの適切な使用
✅ シャドウでの奥行き表現
✅ すべてのサイズでテスト
```

---

## プラットフォーム固有の要件

### iOS / iPadOS

```
背景: 不透明必須
形状: システムが自動でSquircleマスク適用
透明度: 許可されない
```

### macOS

```
背景: 透明可能
形状: 任意（丸、四角、カスタム）
シャドウ: システムシャドウ自動適用
複雑さ: より詳細なデザイン可能
```

### watchOS

```
背景: 黒推奨（OLED最適化）
形状: 円形
コントラスト: 高コントラスト推奨
```

### tvOS

```
アスペクト比: 16:9 または 400:240
レイヤー: 2-5層の視差対応
フォーカス: フォーカス時の拡大対応
```

### visionOS

```
層構造: 3層（前景・中間・背景）
深度: 各層で奥行き表現
形状: 円形ベース
```

---

## 3層アイコン構造（visionOS）

### レイヤー構成

```
Layer 3（前景）
├── 最前面の要素
├── シンボル、ロゴマーク
└── Z深度: 0pt（最前面）

Layer 2（中間）
├── セカンダリ要素
├── 装飾、グラデーション
└── Z深度: -10pt

Layer 1（背景）
├── ベース色、パターン
├── 背景グラデーション
└── Z深度: -20pt
```

### サイズ要件

```
各レイヤー: 1024×1024px
フォーマット: PNG（透明対応）
深度効果: システム自動適用
```

---

## アイコン書き出し設定

### Sketch / Figma エクスポート

```
フォーマット: PNG
背景: 塗りつぶし（iOS）、透明可（macOS）
カラースペース: sRGB
ビット深度: 8ビット
圧縮: 最適化
```

### アセットカタログ構造

```
Assets.xcassets/
└── AppIcon.appiconset/
    ├── Contents.json
    ├── icon-1024.png (App Store)
    ├── icon-180.png (iPhone @3x)
    ├── icon-120.png (iPhone @2x)
    ├── icon-167.png (iPad Pro @2x)
    ├── icon-152.png (iPad @2x)
    ├── icon-80.png (Spotlight @2x)
    ├── icon-120.png (Spotlight @3x)
    ├── icon-58.png (Settings @2x)
    ├── icon-87.png (Settings @3x)
    ├── icon-40.png (Notification @2x)
    └── icon-60.png (Notification @3x)
```

### Contents.json 例

```json
{
  "images": [
    {
      "size": "60x60",
      "scale": "2x",
      "idiom": "iphone",
      "filename": "icon-120.png"
    },
    {
      "size": "60x60",
      "scale": "3x",
      "idiom": "iphone",
      "filename": "icon-180.png"
    },
    {
      "size": "1024x1024",
      "scale": "1x",
      "idiom": "ios-marketing",
      "filename": "icon-1024.png"
    }
  ],
  "info": {
    "version": 1,
    "author": "xcode"
  }
}
```

---

## チェックリスト

### デザイン
- [ ] Squircle形状で設計
- [ ] グリッドシステム遵守
- [ ] 全サイズで視認性確認
- [ ] カラーコントラスト確保
- [ ] ブランド一貫性

### 技術
- [ ] 1024×1024マスター作成
- [ ] 全必要サイズ書き出し
- [ ] アセットカタログ設定
- [ ] Contents.json正確性
- [ ] 透明度設定（プラットフォーム別）

### 検証
- [ ] 実機でのプレビュー
- [ ] 異なる背景での確認
- [ ] フォルダー内での表示
- [ ] 検索結果での表示
- [ ] App Store表示確認

---

## 参考文献

- Apple Human Interface Guidelines - App Icons
- SF Symbols Human Interface Guidelines
- WWDC 2023: Design for visionOS
- App Store Review Guidelines
