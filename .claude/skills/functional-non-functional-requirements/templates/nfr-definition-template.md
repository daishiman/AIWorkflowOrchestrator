# 非機能要件定義テンプレート

## 文書情報

| 項目           | 内容             |
| -------------- | ---------------- |
| プロジェクト名 | [プロジェクト名] |
| 文書バージョン | 1.0.0            |
| 作成日         | YYYY/MM/DD       |
| 最終更新日     | YYYY/MM/DD       |
| 作成者         | [氏名]           |

---

## 1. 非機能要件サマリー

| カテゴリ         | 要件数 | Critical | High | Medium | Low |
| ---------------- | ------ | -------- | ---- | ------ | --- |
| パフォーマンス   |        |          |      |        |     |
| スケーラビリティ |        |          |      |        |     |
| セキュリティ     |        |          |      |        |     |
| 可用性           |        |          |      |        |     |
| 信頼性           |        |          |      |        |     |
| 保守性           |        |          |      |        |     |
| ユーザビリティ   |        |          |      |        |     |
| 互換性           |        |          |      |        |     |
| **合計**         |        |          |      |        |     |

---

## 2. パフォーマンス要件

### NFR-P001: 応答時間

| 項目               | 内容                           |
| ------------------ | ------------------------------ |
| **指標**           | API応答時間                    |
| **目標値**         |                                |
| - 平均             | [X]ms以内                      |
| - 95パーセンタイル | [X]ms以内                      |
| - 99パーセンタイル | [X]ms以内                      |
| **測定方法**       | [APMツール名]による計測        |
| **測定頻度**       | リアルタイム / 日次 / 週次     |
| **重要度**         | Critical / High / Medium / Low |
| **根拠**           | [なぜこの目標値か]             |

**対象API一覧**:
| エンドポイント | 目標値 | 備考 |
|---------------|--------|------|
| /api/xxx | [X]ms | |
| /api/yyy | [X]ms | |

### NFR-P002: スループット

| 項目         | 内容                             |
| ------------ | -------------------------------- |
| **指標**     | 単位時間あたりの処理リクエスト数 |
| **目標値**   |                                  |
| - 通常時     | [X]リクエスト/秒                 |
| - ピーク時   | [X]リクエスト/秒                 |
| **測定方法** | 負荷テスト / 本番モニタリング    |
| **測定頻度** | リリース前 / 月次                |
| **重要度**   | Critical / High / Medium / Low   |
| **根拠**     | [なぜこの目標値か]               |

### NFR-P003: リソース使用率

| 項目         | 内容                   |
| ------------ | ---------------------- |
| **指標**     | サーバーリソース使用率 |
| **目標値**   |                        |
| - CPU        | [X]%以下（通常時）     |
| - メモリ     | [X]%以下               |
| - ディスク   | [X]%以下               |
| **測定方法** | [監視ツール名]         |
| **測定頻度** | リアルタイム           |
| **重要度**   | High / Medium / Low    |
| **根拠**     | [なぜこの目標値か]     |

---

## 3. スケーラビリティ要件

### NFR-S001: 同時ユーザー数

| 項目                 | 内容                   |
| -------------------- | ---------------------- |
| **指標**             | 同時接続可能ユーザー数 |
| **目標値**           |                        |
| - 現在               | [X]ユーザー            |
| - 1年後              | [X]ユーザー            |
| - 3年後              | [X]ユーザー            |
| **スケーリング方式** | 水平 / 垂直 / 自動     |
| **測定方法**         | 負荷テスト             |
| **重要度**           | High / Medium / Low    |
| **根拠**             | [成長予測に基づく]     |

### NFR-S002: データ量

| 項目         | 内容                   |
| ------------ | ---------------------- |
| **指標**     | 保存可能データ量       |
| **目標値**   |                        |
| - 初期       | [X]GB/TB               |
| - 年間増加   | [X]GB/TB               |
| - 保持期間   | [X]年                  |
| **測定方法** | ストレージモニタリング |
| **重要度**   | High / Medium / Low    |
| **根拠**     | [データ量予測に基づく] |

---

## 4. セキュリティ要件

### NFR-SEC001: 認証

| 項目                 | 内容                      |
| -------------------- | ------------------------- |
| **指標**             | 認証方式と強度            |
| **目標値**           |                           |
| - 認証方式           | [OAuth 2.0 / SAML / etc.] |
| - MFA                | [必須 / 推奨 / なし]      |
| - パスワードポリシー | [要件]                    |
| - セッション管理     | [有効期限、同時ログイン]  |
| **測定方法**         | セキュリティ監査          |
| **重要度**           | Critical                  |
| **準拠規格**         | [OWASP / etc.]            |

### NFR-SEC002: 暗号化

| 項目           | 内容                 |
| -------------- | -------------------- |
| **指標**       | データ暗号化         |
| **目標値**     |                      |
| - 通信暗号化   | [TLS 1.3以上]        |
| - 保存時暗号化 | [AES-256]            |
| - 鍵管理       | [方式]               |
| **測定方法**   | セキュリティスキャン |
| **重要度**     | Critical             |
| **準拠規格**   | [PCI DSS / etc.]     |

### NFR-SEC003: 監査ログ

| 項目         | 内容         |
| ------------ | ------------ |
| **指標**     | 監査ログ     |
| **目標値**   |              |
| - 記録対象   | [操作の種類] |
| - 保持期間   | [X]年        |
| - 改ざん防止 | [方式]       |
| **測定方法** | ログ監査     |
| **重要度**   | High         |
| **準拠規格** | [法規制]     |

---

## 5. 可用性要件

### NFR-A001: SLA

| 項目                   | 内容                   |
| ---------------------- | ---------------------- |
| **指標**               | サービス稼働率         |
| **目標値**             | [99.9]%                |
| - 月間許容ダウンタイム | [43]分                 |
| - 年間許容ダウンタイム | [8.76]時間             |
| **計画停止**           | [頻度、通知期間]       |
| **測定方法**           | 外部監視サービス       |
| **重要度**             | Critical               |
| **SLA違反時の対応**    | [サービスクレジット等] |

### NFR-A002: 障害復旧

| 項目             | 内容             |
| ---------------- | ---------------- |
| **指標**         | 障害復旧能力     |
| **目標値**       |                  |
| - RTO            | [X]時間          |
| - RPO            | [X]分            |
| - MTTR           | [X]分            |
| **バックアップ** | [頻度、保持期間] |
| **測定方法**     | DR訓練           |
| **重要度**       | Critical         |

---

## 6. 信頼性要件

### NFR-R001: 耐障害性

| 項目         | 内容                                       |
| ------------ | ------------------------------------------ |
| **指標**     | 部分障害時の動作継続                       |
| **目標値**   | [具体的な要件]                             |
| **対策**     | [サーキットブレーカー、フェイルオーバー等] |
| **測定方法** | カオスエンジニアリング                     |
| **重要度**   | High                                       |

### NFR-R002: データ整合性

| 項目         | 内容                                 |
| ------------ | ------------------------------------ |
| **指標**     | データの一貫性維持                   |
| **目標値**   | [具体的な要件]                       |
| **対策**     | [トランザクション、整合性チェック等] |
| **測定方法** | データ監査                           |
| **重要度**   | Critical                             |

---

## 7. 保守性要件

### NFR-M001: コード品質

| 項目               | 内容             |
| ------------------ | ---------------- |
| **指標**           | コード品質指標   |
| **目標値**         |                  |
| - テストカバレッジ | [X]%以上         |
| - 静的解析エラー   | [0]件            |
| - 技術的負債       | [Aランク]        |
| **測定方法**       | SonarQube等      |
| **測定頻度**       | 各プルリクエスト |
| **重要度**         | Medium           |

### NFR-M002: デプロイ

| 項目               | 内容               |
| ------------------ | ------------------ |
| **指標**           | デプロイ能力       |
| **目標値**         |                    |
| - デプロイ時間     | [X]分以内          |
| - ロールバック時間 | [X]分以内          |
| - ダウンタイム     | [ゼロダウンタイム] |
| **測定方法**       | CI/CDメトリクス    |
| **重要度**         | High               |

---

## 8. ユーザビリティ要件

### NFR-U001: アクセシビリティ

| 項目         | 内容                      |
| ------------ | ------------------------- |
| **指標**     | アクセシビリティ準拠      |
| **目標値**   | [WCAG 2.1 AA]             |
| **対象**     | [対象画面・機能]          |
| **測定方法** | 自動チェック + 手動テスト |
| **重要度**   | Medium                    |

### NFR-U002: レスポンシブ対応

| 項目           | 内容                |
| -------------- | ------------------- |
| **指標**       | マルチデバイス対応  |
| **目標値**     |                     |
| - 対応画面幅   | [320px] 〜 [2560px] |
| - 対応デバイス | [デバイス一覧]      |
| **測定方法**   | 実機テスト          |
| **重要度**     | High                |

---

## 9. 互換性要件

### NFR-C001: ブラウザ互換性

| 項目         | 内容                    |
| ------------ | ----------------------- |
| **指標**     | 対応ブラウザ            |
| **目標値**   |                         |
| - Chrome     | [バージョン]以上        |
| - Firefox    | [バージョン]以上        |
| - Safari     | [バージョン]以上        |
| - Edge       | [バージョン]以上        |
| **測定方法** | 自動テスト + 実機テスト |
| **重要度**   | High                    |

### NFR-C002: API互換性

| 項目               | 内容             |
| ------------------ | ---------------- |
| **指標**           | API後方互換性    |
| **目標値**         | [互換性ポリシー] |
| **バージョニング** | [方式]           |
| **廃止通知**       | [期間]           |
| **測定方法**       | API契約テスト    |
| **重要度**         | High             |

---

## 10. 承認

| 役割                     | 氏名 | 日付 | 承認 |
| ------------------------ | ---- | ---- | ---- |
| プロジェクトマネージャー |      |      | [ ]  |
| 技術リード               |      |      | [ ]  |
| セキュリティ責任者       |      |      | [ ]  |
| 運用責任者               |      |      | [ ]  |

---

## 変更履歴

| バージョン | 日付       | 変更者 | 変更内容 |
| ---------- | ---------- | ------ | -------- |
| 1.0.0      | YYYY/MM/DD | [氏名] | 初版作成 |
