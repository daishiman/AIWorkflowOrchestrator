---
name: risk-management
description: |
  プロジェクトリスクの識別、評価、軽減戦略の体系的手法。
  プロアクティブなリスク管理により、プロジェクトの成功確率を
  最大化し、予期せぬ問題への対応力を強化します。
version: 1.0.0
---

# リスク管理スキル

## 概要

体系的なリスク管理プロセスにより、潜在的な問題を早期に特定し、
適切な対策を講じることで、プロジェクトの安定性と成功を確保します。

## いつ使うか

- プロジェクト開始時のリスク評価
- スプリント計画でのリスク特定
- アーキテクチャ決定時の影響分析
- 変更管理とインパクト評価
- インシデント後の再発防止

## リスク管理フレームワーク

### リスク識別

#### ブレインストーミング手法
```
カテゴリー別リスク探索:
- 技術リスク: 新技術、統合、パフォーマンス
- プロジェクトリスク: スケジュール、リソース、スコープ
- ビジネスリスク: 市場、競合、規制
- 外部リスク: ベンダー、インフラ、天災
```

#### SWOT分析
```
Strengths（強み）→ 活用機会
Weaknesses（弱み）→ リスク要因
Opportunities（機会）→ 積極的リスクテイク
Threats（脅威）→ 回避・軽減策
```

#### リスクチェックリスト
```
技術面:
□ 技術的実現可能性は検証済みか
□ パフォーマンス要件を満たせるか
□ スケーラビリティの問題はないか
□ セキュリティリスクは評価済みか
□ 技術的負債の蓄積リスクはあるか

プロジェクト面:
□ スケジュールは現実的か
□ リソースは確保されているか
□ 依存関係は明確か
□ コミュニケーションリスクはないか
□ 変更管理プロセスは確立されているか
```

### リスク分析

#### 確率・影響度マトリクス

```
      影響度
    低    中    高
高 │黄色│橙色│赤色│
確 │    │    │    │
率 中 │緑色│黄色│橙色│
   │    │    │    │
低 │緑色│緑色│黄色│

レベル定義:
赤: 重大（即座に対応）
橙: 高（計画的対応）
黄: 中（監視強化）
緑: 低（受容可能）
```

#### リスクスコアリング

```
リスクスコア = 確率 × 影響度

確率スケール:
5: ほぼ確実 (>90%)
4: 高い (70-90%)
3: 中程度 (30-70%)
2: 低い (10-30%)
1: 稀 (<10%)

影響度スケール:
5: 壊滅的（プロジェクト中止）
4: 重大（大幅な遅延/予算超過）
3: 中程度（調整で対応可能）
2: 軽微（限定的影響）
1: 無視可能（影響なし）
```

#### 期待貨幣価値（EMV）

```
EMV = Σ(確率 × 金銭的影響)

例:
リスクA: 30% × -$50,000 = -$15,000
リスクB: 10% × -$200,000 = -$20,000
機会C: 40% × +$30,000 = +$12,000
合計EMV = -$23,000
```

### リスク対応戦略

#### 負のリスク（脅威）への対応

```
回避（Avoid）:
- リスクを完全に排除
- 計画変更、スコープ変更
例: 新技術を避け、実績ある技術を採用

軽減（Mitigate）:
- 確率または影響を減少
- 予防措置、バックアップ
例: 段階的リリース、プロトタイプ作成

転嫁（Transfer）:
- 第三者にリスクを移転
- 保険、契約、アウトソース
例: SLA付きクラウドサービス利用

受容（Accept）:
- リスクをそのまま受け入れ
- コンティンジェンシー予算
例: 軽微なバグのリリース後修正
```

#### 正のリスク（機会）への対応

```
活用（Exploit）:
- 機会を確実に実現
- リソース優先配分
例: 市場機会への積極投資

強化（Enhance）:
- 確率または影響を増大
- 追加リソース投入
例: 成功確率を上げる追加開発

共有（Share）:
- パートナーと機会を共有
- ジョイントベンチャー
例: 技術パートナーシップ

受容（Accept）:
- 特別な対策なし
- 機会が来たら活用
例: 偶発的な改善効果
```

## リスクレジスター

### テンプレート

```markdown
## Risk ID: R-001
**リスク名**: 外部API依存
**カテゴリー**: 技術/統合

### 説明
決済処理が外部APIに完全依存しており、
API障害時にサービス停止の可能性

### 評価
- **確率**: 3/5 (中)
- **影響度**: 4/5 (重大)
- **スコア**: 12 (高リスク)
- **検出時期**: 設計フェーズ

### 対応戦略
**戦略タイプ**: 軽減

**対応策**:
1. フォールバック処理実装
2. キャッシュ機構の導入
3. 複数プロバイダー対応
4. SLA締結

### 監視
- **指標**: API可用性、応答時間
- **トリガー**: 可用性 < 99.5%
- **レビュー頻度**: 週次

### 責任者
- **オーナー**: テックリード
- **実行者**: バックエンドチーム

### 状態
- **ステータス**: 対応中
- **更新日**: 2024-01-15
```

### リスク一覧管理

```
| ID | リスク | 確率 | 影響 | スコア | 戦略 | 状態 | オーナー |
|----|--------|------|------|--------|------|------|----------|
| R-001 | API依存 | 3 | 4 | 12 | 軽減 | 対応中 | TL |
| R-002 | 人員不足 | 4 | 3 | 12 | 軽減 | 監視中 | PM |
| R-003 | 規制変更 | 2 | 5 | 10 | 転嫁 | 監視中 | Legal |
```

## リスク監視とコントロール

### 早期警告指標（EWI）

```yaml
technical_debt:
  metric: code_complexity
  threshold: 10
  action: refactoring_sprint

velocity_drop:
  metric: velocity_trend
  threshold: -20%
  action: root_cause_analysis

defect_rate:
  metric: bugs_per_release
  threshold: 5
  action: quality_review

team_morale:
  metric: satisfaction_score
  threshold: 6/10
  action: team_intervention
```

### リスクレビュー会議

```
頻度と参加者:
- 日次: スクラムマスター（ブロッカー確認）
- 週次: 開発チーム（技術リスク）
- 隔週: プロダクトオーナー（ビジネスリスク）
- 月次: ステークホルダー（戦略リスク）

アジェンダ:
1. 新規リスクの識別
2. 既存リスクの再評価
3. 対応策の進捗確認
4. 発生したイシューのレビュー
5. リスクレジスターの更新
```

### エスカレーション基準

```
レベル1（チーム内）:
- スコア < 6
- 影響: 1スプリント内
- 権限: スクラムマスター

レベル2（部門内）:
- スコア 6-15
- 影響: リリース遅延可能性
- 権限: 部門マネージャー

レベル3（経営層）:
- スコア > 15
- 影響: ビジネス目標への影響
- 権限: エグゼクティブ
```

## コンティンジェンシー計画

### 計画テンプレート

```
トリガー条件:
- [具体的な発生条件]

即座の対応:
1. [初動対応ステップ]
2. [影響範囲の特定]
3. [ステークホルダー通知]

軽減アクション:
- [短期的対策]
- [中期的対策]
- [長期的対策]

リソース:
- 予算: $[金額]
- 人員: [必要リソース]
- 時間: [所要期間]

復旧目標:
- RTO: [時間]
- RPO: [時間]
```

## リスク文化の醸成

### 心理的安全性

```
促進する行動:
- リスクの早期報告を称賛
- 失敗からの学習を重視
- ブレーミングの排除
- オープンな議論を奨励

阻害する行動:
- 隠蔽やごまかし
- 個人攻撃
- 完璧主義の強要
- リスクテイクの否定
```

### リスク教育

```
トレーニング内容:
- リスク管理の基本概念
- 識別テクニック
- 評価方法
- 対応戦略
- ツールの使用方法

実施方法:
- 新人オンボーディング
- 定期ワークショップ
- ケーススタディ
- シミュレーション訓練
```

## ツールと技法

### リスク分析ツール

```python
class RiskAnalyzer:
    def calculate_risk_score(self, probability, impact):
        """リスクスコア計算"""
        return probability * impact

    def categorize_risk(self, score):
        """リスクレベル分類"""
        if score >= 15:
            return "Critical"
        elif score >= 10:
            return "High"
        elif score >= 6:
            return "Medium"
        else:
            return "Low"

    def calculate_emv(self, risks):
        """期待貨幣価値計算"""
        total_emv = 0
        for risk in risks:
            emv = risk['probability'] * risk['monetary_impact']
            total_emv += emv
        return total_emv
```

### モンテカルロシミュレーション

```python
import random

def monte_carlo_simulation(n_simulations=1000):
    """プロジェクト完了日予測"""
    results = []

    for _ in range(n_simulations):
        # 各タスクの期間をランダムに生成
        task_durations = [
            random.triangular(5, 10, 15),  # Task A
            random.triangular(3, 5, 8),    # Task B
            random.triangular(10, 15, 25), # Task C
        ]

        total_duration = sum(task_durations)
        results.append(total_duration)

    return {
        'p50': np.percentile(results, 50),
        'p80': np.percentile(results, 80),
        'p95': np.percentile(results, 95)
    }
```

## チェックリスト

### プロジェクト開始時
- [ ] リスクブレインストーミング実施
- [ ] リスクレジスター作成
- [ ] 対応戦略の策定
- [ ] コンティンジェンシー予算確保

### スプリント計画時
- [ ] 新規リスクの識別
- [ ] 既存リスクの再評価
- [ ] 対応策のスプリント組み込み

### 定期レビュー
- [ ] リスクレジスターの更新
- [ ] 早期警告指標の確認
- [ ] 対応策の効果測定
- [ ] 新規リスクのスキャン

## 関連スキル

- `agile-project-management` - プロジェクト管理
- `stakeholder-communication` - リスクコミュニケーション
- `metrics-tracking` - 指標監視
- `sprint-planning` - リスク考慮した計画