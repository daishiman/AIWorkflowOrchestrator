# 明確性チェックリスト

## 概要

実装者が迷わない明確なドキュメントを作成するためのチェックリストです。曖昧な表現を排除し、検証可能な記述に変換します。

## 曖昧表現の検出と改善

### 程度を表す曖昧表現

| 曖昧表現 | 改善例                              |
| :------- | :---------------------------------- |
| 高速に   | 200ms以内に                         |
| 大量の   | 10,000件以上の                      |
| 適切な   | 100文字以内の                       |
| 十分な   | 8文字以上の                         |
| なるべく | 可能な限り3秒以内に（必須ではない） |

### 条件を表す曖昧表現

| 曖昧表現       | 改善例                           |
| :------------- | :------------------------------- |
| 必要に応じて   | ユーザーが設定を有効にした場合   |
| 場合によっては | エラーコードが500系の場合        |
| 状況に応じて   | リクエスト数が100/分を超えた場合 |
| 可能であれば   | システムリソースが利用可能な場合 |

### 動作を表す曖昧表現

| 曖昧表現       | 改善例                                |
| :------------- | :------------------------------------ |
| 適切に処理する | バリデーションエラーの場合、400を返す |
| 正しく動作する | 入力値をそのまま出力に含める          |
| うまく機能する | 99.9%の可用性を維持する               |

## セクション別チェックリスト

### データモデル

- [ ] すべてのフィールドに型が定義されているか
- [ ] 必須/任意が明示されているか
- [ ] 最大長・最小長が定義されているか
- [ ] デフォルト値が明記されているか
- [ ] 許容値（enum等）が列挙されているか

### API仕様

- [ ] HTTPメソッドとパスが明確か
- [ ] リクエストパラメータの型が定義されているか
- [ ] レスポンスの構造が明確か
- [ ] すべてのエラーケースが列挙されているか
- [ ] サンプルリクエスト/レスポンスがあるか

### ワークフロー

- [ ] 開始条件が明確か
- [ ] すべての分岐条件が定義されているか
- [ ] 終了条件が明確か
- [ ] エラー時の動作が定義されているか
- [ ] タイムアウト等の制限が明記されているか

### エラーハンドリング

- [ ] エラーコードが一意に定義されているか
- [ ] エラーメッセージが明確か
- [ ] 復旧方法が記載されているか
- [ ] リトライ可否が明記されているか

## 検証方法

### 自問自答テスト

以下の質問に「はい」と答えられるか確認：

1. この仕様書だけで実装を開始できるか？
2. テストケースを作成できるか？
3. 2人の実装者が同じものを作れるか？

### 第三者レビュー

- ドメイン知識のない人に読んでもらう
- 質問が出た箇所を明確化する

## 改善プロセス

1. **検出**: 曖昧表現をハイライト
2. **質問**: 「具体的には何を指すか？」
3. **数値化**: 可能な限り数値で表現
4. **条件化**: 具体的な条件を明記
5. **検証**: テスト可能か確認
