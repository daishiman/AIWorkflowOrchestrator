---
description: |
  ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆNext.js App Routerï¼‰ã®æ§‹ç¯‰ã‚’è¡Œã†åŒ…æ‹¬çš„ãªã‚³ãƒãƒ³ãƒ‰ã€‚

  ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆUIã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€çŠ¶æ…‹ç®¡ç†ï¼‰ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã€Repositoryã€APIï¼‰ã€
  ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆã‚¹ã‚­ãƒ¼ãƒã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã®å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’çµ±åˆçš„ã«å®Ÿè£…ã—ã¾ã™ã€‚

  ğŸ¤– èµ·å‹•ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ï¼‰:
  - **Presentationå±¤**: `.claude/agents/router-dev.md` - App Routerã€Pageè¨­è¨ˆ
  - **Presentationå±¤**: `.claude/agents/ui-designer.md` - UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
  - **Presentationå±¤**: `.claude/agents/state-manager.md` - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçŠ¶æ…‹ç®¡ç†ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ
  - **Domainå±¤**: `.claude/agents/domain-modeler.md` - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ãƒãƒªãƒ¥ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€é›†ç´„
  - **Infrastructureå±¤**: `.claude/agents/db-architect.md` - DBè¨­è¨ˆã€ã‚¹ã‚­ãƒ¼ãƒã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  - **Infrastructureå±¤**: `.claude/agents/repo-dev.md` - Repositoryå®Ÿè£…ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³
  - **Applicationå±¤**: `.claude/agents/gateway-dev.md` - API Gatewayã€ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆ

  ğŸ“š åˆ©ç”¨å¯èƒ½ã‚¹ã‚­ãƒ«ï¼ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå‚ç…§ï¼‰:
  **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰:**
  - `.claude/skills/nextjs-app-router/SKILL.md` - App Routerã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€Dynamic Routes
  - `.claude/skills/server-components-patterns/SKILL.md` - Server/Client Componentsåˆ†é›¢
  - `.claude/skills/seo-optimization/SKILL.md` - Metadata APIã€OGPè¨­å®š
  - `.claude/skills/web-performance/SKILL.md` - Core Web Vitalsã€æœ€é©åŒ–
  - `.claude/skills/component-composition-patterns/SKILL.md` - Slot/Compound ãƒ‘ã‚¿ãƒ¼ãƒ³
  - `.claude/skills/accessibility-wcag/SKILL.md` - WCAG 2.1ã€ARIA
  - `.claude/skills/tailwind-css-patterns/SKILL.md` - Tailwind CSSã€ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³
  - `.claude/skills/react-hooks-advanced/SKILL.md` - useEffect/useCallbackæœ€é©åŒ–
  - `.claude/skills/data-fetching-strategies/SKILL.md` - SWR/React Query
  - `.claude/skills/state-lifting/SKILL.md` - Stateç®¡ç†ã€Context API
  - `.claude/skills/error-boundary/SKILL.md` - Error Boundaryå®Ÿè£…

  **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰:**
  - `.claude/skills/bounded-context/SKILL.md` - DDDå¢ƒç•Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
  - `.claude/skills/ubiquitous-language/SKILL.md` - ãƒ‰ãƒ¡ã‚¤ãƒ³ç”¨èªçµ±ä¸€
  - `.claude/skills/clean-architecture-principles/SKILL.md` - ä¾å­˜é–¢ä¿‚ãƒ«ãƒ¼ãƒ«
  - `.claude/skills/database-normalization/SKILL.md` - æ­£è¦åŒ–ã€å¤–éƒ¨ã‚­ãƒ¼è¨­è¨ˆ
  - `.claude/skills/indexing-strategies/SKILL.md` - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
  - `.claude/skills/query-optimization/SKILL.md` - ã‚¯ã‚¨ãƒªæœ€é©åŒ–ã€N+1å•é¡Œ
  - `.claude/skills/repository-pattern/SKILL.md` - Repositoryå®Ÿè£…
  - `.claude/skills/transaction-management/SKILL.md` - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
  - `.claude/skills/orm-best-practices/SKILL.md` - Drizzle ORM ãƒ‘ã‚¿ãƒ¼ãƒ³
  - `.claude/skills/http-best-practices/SKILL.md` - HTTPã€REST APIè¨­è¨ˆ
  - `.claude/skills/rest-api-design/SKILL.md` - RESTfulè¨­è¨ˆåŸå‰‡
  - `.claude/skills/error-handling-strategies/SKILL.md` - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

  âš™ï¸ ã“ã®ã‚³ãƒãƒ³ãƒ‰ã®è¨­å®š:
  - argument-hint: "[app-name] [--features]"ï¼ˆapp-nameå¿…é ˆã€featuresä»»æ„: auth,dashboard,apiç­‰ï¼‰
  - allowed-tools: 7ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•ã¨å…¨é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ç”¨
    â€¢ Task: 7ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•ç”¨
    â€¢ Read: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèªç”¨
    â€¢ Write: å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚³ãƒ¼ãƒ‰ç”Ÿæˆç”¨
    â€¢ Edit: ã‚³ãƒ¼ãƒ‰ç·¨é›†ç”¨
    â€¢ Bash: DBæ“ä½œã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç”¨
    â€¢ Grep, Glob: ã‚³ãƒ¼ãƒ‰æ¤œç´¢ç”¨
  - model: opusï¼ˆè¤‡é›‘ãª7ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèª¿æ•´ã¨ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯çµ±åˆãŒå¿…è¦ï¼‰

  ğŸ“‹ æˆæœç‰©ï¼ˆãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ§‹é€ æº–æ‹ ï¼‰:
  - `src/app/`ï¼ˆNext.js App Routerã€Pageã€Layoutã€API Routesï¼‰
  - `src/app/components/`ï¼ˆUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼‰
  - `src/shared/core/entities/`ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰
  - `src/shared/infrastructure/database/`ï¼ˆã‚¹ã‚­ãƒ¼ãƒã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€Repositoryï¼‰
  - `src/features/`ï¼ˆæ©Ÿèƒ½ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€Executorï¼‰
  - `drizzle/migrations/`ï¼ˆDBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
  - ãƒ†ã‚¹ãƒˆï¼ˆ`__tests__/`ã€ã‚«ãƒãƒ¬ãƒƒã‚¸60%ä»¥ä¸Šï¼‰
  - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ`docs/`ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ã€APIä»•æ§˜ï¼‰

  ğŸ¯ å“è³ªåŸºæº–ï¼ˆmaster_system_design.mdæº–æ‹ ï¼‰:
  - Clean Architecture: ä¾å­˜æ–¹å‘éµå®ˆï¼ˆapp â†’ features â†’ infrastructure â†’ coreï¼‰
  - ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ§‹é€ : shared/ã¨features/ã®è²¬å‹™åˆ†é›¢
  - App Router: Server Componentså„ªå…ˆã€Client Componentsæœ€å°åŒ–
  - å‹å®‰å…¨æ€§: TypeScript strict ãƒ¢ãƒ¼ãƒ‰ã€Zodæ¤œè¨¼
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€next/imageæœ€é©åŒ–ã€Code Splitting
  - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£: WCAG 2.1æº–æ‹ ã€ARIAã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€èªè¨¼ãƒ»èªå¯ã€ç’°å¢ƒå¤‰æ•°åŒ–

  ãƒˆãƒªã‚¬ãƒ¼ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: full stack, nextjs app, ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯, ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰, end-to-end
argument-hint: "[app-name] [--features]"
allowed-tools:
  - TaskRead
  - Write
  - Edit
  - Bash
  - Grep
  - Glob
model: opus
---

# ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€Next.js App Routerãƒ™ãƒ¼ã‚¹ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

## ğŸ“‹ å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

### Phase 1: ã‚¢ãƒ—ãƒªåã¨æ©Ÿèƒ½ã®ç¢ºèª

**å¼•æ•°è§£æ**:

```bash
# ã‚¢ãƒ—ãƒªåï¼ˆå¿…é ˆï¼‰
app-name: "$1"

# æ©Ÿèƒ½ãƒªã‚¹ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
features: "$2"ï¼ˆä¾‹: auth,dashboard,apiï¼‰

# æœªæŒ‡å®šã®å ´åˆ
å¯¾è©±çš„ã«åé›†
```

### Phase 2: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆï¼ˆdomain-modelerï¼‰

**ä½¿ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: `.claude/agents/domain-modeler.md`

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ä¾é ¼å†…å®¹**:

```markdown
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€Œ${app-name}ã€ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚

**æ©Ÿèƒ½ãƒªã‚¹ãƒˆ**: ${features}

**è¦ä»¶**:

1. ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£è¨­è¨ˆï¼ˆ`src/shared/core/entities/`ï¼‰
2. ãƒãƒªãƒ¥ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¨­è¨ˆ
3. é›†ç´„ã®å¢ƒç•Œæ±ºå®šï¼ˆBounded Contextï¼‰
4. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾©ï¼ˆå¿…è¦æ™‚ï¼‰
5. ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã®å®šç¾©ï¼ˆç”¨èªé›†ï¼‰

**ã‚¹ã‚­ãƒ«å‚ç…§**:

- `.claude/skills/bounded-context/SKILL.md`
- `.claude/skills/ubiquitous-language/SKILL.md`
- `.claude/skills/clean-architecture-principles/SKILL.md`

**æˆæœç‰©**:

- `src/shared/core/entities/*.ts`ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰
- `src/shared/core/interfaces/*.ts`ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰
- ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«å›³ï¼ˆMermaidï¼‰
- ç”¨èªé›†
```

### Phase 3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆdb-architectï¼‰

**ä½¿ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: `.claude/agents/db-architect.md`

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ä¾é ¼å†…å®¹**:

```markdown
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€Œ${app-name}ã€ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚

**å…¥åŠ›**: Phase 2ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«

**è¦ä»¶**:

1. ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆï¼ˆ`src/shared/infrastructure/database/schema.ts`ï¼‰:
   - Drizzle ORMä½¿ç”¨
   - UUIDä¸»ã‚­ãƒ¼
   - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆcreated_at, updated_atï¼‰
   - ã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆï¼ˆdeleted_atï¼‰

2. æ­£è¦åŒ–ï¼ˆç¬¬3æ­£è¦å½¢ã¾ã§ï¼‰
3. ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆï¼ˆæ¤œç´¢æ¡ä»¶ã€å¤–éƒ¨ã‚­ãƒ¼ã€è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰
4. åˆ¶ç´„è¨­è¨ˆï¼ˆå¤–éƒ¨ã‚­ãƒ¼ã€UNIQUEã€NOT NULLã€CHECKï¼‰
5. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **:

- `src/shared/infrastructure/database/schema.ts`ï¼ˆDrizzleã‚¹ã‚­ãƒ¼ãƒï¼‰
- `drizzle/migrations/`ï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³SQLï¼‰

**ã‚¹ã‚­ãƒ«å‚ç…§**:

- `.claude/skills/database-normalization/SKILL.md`
- `.claude/skills/indexing-strategies/SKILL.md`
- `.claude/skills/foreign-key-constraints/SKILL.md`

**æˆæœç‰©**:

- `src/shared/infrastructure/database/schema.ts`
- `drizzle/migrations/0001_initial_schema.sql`
- ERå›³ï¼ˆMermaidï¼‰
```

### Phase 4: Repositoryå®Ÿè£…ï¼ˆrepo-devï¼‰

**ä½¿ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: `.claude/agents/repo-dev.md`

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ä¾é ¼å†…å®¹**:

```markdown
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€Œ${app-name}ã€ã®Repositoryã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

**å…¥åŠ›**: Phase 3ã®DBã‚¹ã‚­ãƒ¼ãƒ

**è¦ä»¶**:

1. IRepository ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…
2. CRUDæ“ä½œå®Ÿè£…ï¼ˆcreate, findById, findMany, update, deleteï¼‰
3. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆDBæ¥ç¶šã‚¨ãƒ©ãƒ¼ã€åˆ¶ç´„é•åç­‰ï¼‰

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **:

- `src/shared/infrastructure/database/repositories/`

**ã‚¹ã‚­ãƒ«å‚ç…§**:

- `.claude/skills/repository-pattern/SKILL.md`
- `.claude/skills/transaction-management/SKILL.md`
- `.claude/skills/query-optimization/SKILL.md`

**æˆæœç‰©**:

- `src/shared/infrastructure/database/repositories/*.ts`ï¼ˆå„ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®Repositoryï¼‰
```

### Phase 5: API Gatewayè¨­è¨ˆï¼ˆgateway-devï¼‰

**ä½¿ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: `.claude/agents/gateway-dev.md`

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ä¾é ¼å†…å®¹**:

```markdown
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€Œ${app-name}ã€ã®API Gatewayã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚

**å…¥åŠ›**: Phase 2ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã€Phase 4ã®Repository

**è¦ä»¶**:

1. ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆï¼ˆRESTfulã€`/api/v1/`ï¼‰:
   - POST /api/v1/[resource]: ãƒªã‚½ãƒ¼ã‚¹ä½œæˆ
   - GET /api/v1/[resource]/{id}: ãƒªã‚½ãƒ¼ã‚¹å–å¾—
   - GET /api/v1/[resource]: ãƒªã‚½ãƒ¼ã‚¹ä¸€è¦§
   - PATCH /api/v1/[resource]/{id}: ãƒªã‚½ãƒ¼ã‚¹æ›´æ–°
   - DELETE /api/v1/[resource]/{id}: ãƒªã‚½ãƒ¼ã‚¹å‰Šé™¤

2. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆZodï¼‰
3. ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ7.3ç« æº–æ‹ ï¼‰
4. èªè¨¼ãƒ»èªå¯ï¼ˆå¿…è¦æ™‚ï¼‰
5. ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆå¿…è¦æ™‚ï¼‰

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **:

- `src/app/api/v1/[resource]/route.ts`ï¼ˆNext.js Route Handlersï¼‰

**ã‚¹ã‚­ãƒ«å‚ç…§**:

- `.claude/skills/http-best-practices/SKILL.md`
- `.claude/skills/rest-api-design/SKILL.md`
- `.claude/skills/zod-validation/SKILL.md`

**æˆæœç‰©**:

- `src/app/api/v1/*/route.ts`ï¼ˆAPI Routesï¼‰
- APIä»•æ§˜æ›¸ï¼ˆOpenAPIå½¢å¼ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

### Phase 6: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®Ÿè£…ï¼ˆrouter-devï¼‰

**ä½¿ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: `.claude/agents/router-dev.md`

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ä¾é ¼å†…å®¹**:

```markdown
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€Œ${app-name}ã€ã®ãƒšãƒ¼ã‚¸ã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

**è¦ä»¶**:

1. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆApp Routerï¼‰
2. Layout/Page ã®è²¬å‹™åˆ†é›¢
3. Server Components å„ªå…ˆã€Client Components æœ€å°åŒ–
4. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®šï¼ˆSEOã€OGPï¼‰
5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆerror.tsxã€not-found.tsxï¼‰
6. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ï¼ˆloading.tsxï¼‰

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **:

- `src/app/layout.tsx`ï¼ˆRoot Layoutï¼‰
- `src/app/page.tsx`ï¼ˆHome Pageï¼‰
- `src/app/[route]/page.tsx`ï¼ˆå„ãƒšãƒ¼ã‚¸ï¼‰
- `src/app/error.tsx`ã€`src/app/not-found.tsx`

**ã‚¹ã‚­ãƒ«å‚ç…§**:

- `.claude/skills/nextjs-app-router/SKILL.md`
- `.claude/skills/server-components-patterns/SKILL.md`
- `.claude/skills/seo-optimization/SKILL.md`

**æˆæœç‰©**:

- `src/app/**/*.tsx`ï¼ˆLayoutã€Pageã€Error Handlingï¼‰
```

### Phase 7: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆui-designerï¼‰

**ä½¿ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: `.claude/agents/ui-designer.md`

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ä¾é ¼å†…å®¹**:

```markdown
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€Œ${app-name}ã€ã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

**æ©Ÿèƒ½ãƒªã‚¹ãƒˆ**: ${features}

**è¦ä»¶**:

1. ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ åŸºç›¤:
   - Tailwind CSSè¨­å®š
   - ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³å®šç¾©
   - åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆButton, Input, Cardç­‰ï¼‰

2. æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:
   - Composition Patterné©ç”¨
   - Slot Patternæ´»ç”¨
   - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼ˆWCAG 2.1ã€ARIAï¼‰

3. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
4. ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ãƒ»ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **:

- `src/app/components/ui/`ï¼ˆåŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- `src/app/components/${feature}/`ï¼ˆæ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰

**ã‚¹ã‚­ãƒ«å‚ç…§**:

- `.claude/skills/component-composition-patterns/SKILL.md`
- `.claude/skills/accessibility-wcag/SKILL.md`
- `.claude/skills/tailwind-css-patterns/SKILL.md`

**æˆæœç‰©**:

- `src/app/components/ui/*.tsx`ï¼ˆåŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- `src/app/components/${feature}/*.tsx`ï¼ˆæ©Ÿèƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- `tailwind.config.ts`ï¼ˆãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰
```

### Phase 8: çŠ¶æ…‹ç®¡ç†å®Ÿè£…ï¼ˆstate-managerï¼‰

**ä½¿ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: `.claude/agents/state-manager.md`

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ä¾é ¼å†…å®¹**:

```markdown
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€Œ${app-name}ã€ã®çŠ¶æ…‹ç®¡ç†ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

**è¦ä»¶**:

1. ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒæˆ¦ç•¥ï¼ˆSWR ã¾ãŸã¯ React Queryï¼‰
2. ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯è¨­è¨ˆ
3. ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ãƒ»ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†
4. Optimistic Updatesï¼ˆæ¥½è¦³çš„æ›´æ–°ï¼‰
5. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **:

- `src/hooks/`ï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼‰
- `src/app/providers.tsx`ï¼ˆSWR/ReactQuery Providerï¼‰

**ã‚¹ã‚­ãƒ«å‚ç…§**:

- `.claude/skills/data-fetching-strategies/SKILL.md`
- `.claude/skills/custom-hooks-patterns/SKILL.md`
- `.claude/skills/state-lifting/SKILL.md`

**æˆæœç‰©**:

- `src/hooks/use${Feature}.ts`ï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼‰
- `src/app/providers.tsx`ï¼ˆProviderè¨­å®šï¼‰
```

### Phase 9: çµ±åˆãƒ»æ¤œè¨¼

**å®Ÿè¡Œå†…å®¹**:

1. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ æ¤œè¨¼ï¼ˆ4.3ç« æº–æ‹ ï¼‰
2. ä¾å­˜é–¢ä¿‚æ¤œè¨¼ï¼ˆESLint boundaries pluginï¼‰
3. å‹ãƒã‚§ãƒƒã‚¯ï¼ˆ`pnpm typecheck`ï¼‰
4. ãƒ“ãƒ«ãƒ‰ç¢ºèªï¼ˆ`pnpm build`ï¼‰
5. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ`pnpm test`ï¼‰

### Phase 10: å®Œäº†å ±å‘Š

**å®Œäº†å ±å‘Š**:

```markdown
## ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Œæˆ: ${app-name}

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ§‹æˆ

- Presentationå±¤: Next.js App Routerã€React Server Components
- Applicationå±¤: API Gatewayã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚¨ãƒ³ã‚¸ãƒ³
- Domainå±¤: ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
- Infrastructureå±¤: Drizzle ORMã€Repositoryã€å¤–éƒ¨APIé€£æº

### æˆæœç‰©

âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰:

- src/app/\*_/_.tsxï¼ˆPageã€Layoutã€Error Handlingï¼‰
- src/app/components/ï¼ˆUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼‰
- src/hooks/ï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒï¼‰

âœ… ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰:

- src/shared/core/entities/ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰
- src/shared/infrastructure/database/ï¼ˆã‚¹ã‚­ãƒ¼ãƒã€Repositoryï¼‰
- src/features/ï¼ˆæ©Ÿèƒ½ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼‰
- src/app/api/v1/ï¼ˆAPI Routesï¼‰

âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹:

- src/shared/infrastructure/database/schema.tsï¼ˆDrizzleã‚¹ã‚­ãƒ¼ãƒï¼‰
- drizzle/migrations/ï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³SQLï¼‰

### å“è³ªæŒ‡æ¨™

- å‹ãƒã‚§ãƒƒã‚¯: âœ… strict ãƒ¢ãƒ¼ãƒ‰ã€ã‚¨ãƒ©ãƒ¼ãªã—
- ãƒ“ãƒ«ãƒ‰: âœ… æˆåŠŸ
- ãƒ†ã‚¹ãƒˆ: ã‚«ãƒãƒ¬ãƒƒã‚¸ XX%
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£: âœ… WCAG 2.1æº–æ‹ 

### Next Steps

1. ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ.envï¼‰
2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼ˆ`pnpm db:push`ï¼‰
3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆ`pnpm dev`ï¼‰
4. çµ±åˆãƒ†ã‚¹ãƒˆä½œæˆ
5. ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™ï¼ˆRailwayï¼‰
```

## ä½¿ç”¨ä¾‹

### åŸºæœ¬çš„ãªä½¿ç”¨ï¼ˆæ©Ÿèƒ½æŒ‡å®šãªã—ï¼‰

```bash
/ai:create-full-stack-app my-app
```

å¯¾è©±çš„ã«æ©Ÿèƒ½ãƒªã‚¹ãƒˆã‚’åé›†ã—ã€å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å®Ÿè£…

### æ©Ÿèƒ½æŒ‡å®šã‚ã‚Š

```bash
/ai:create-full-stack-app task-manager --features auth,dashboard,tasks,api
```

æŒ‡å®šã•ã‚ŒãŸ4æ©Ÿèƒ½ã‚’å«ã‚€ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ï¼ˆmaster_system_design.md 5.1ç« æº–æ‹ ï¼‰

```mermaid
graph TB
    A[Presentation Layer<br/>src/app/] --> B[Application Layer<br/>src/features/]
    B --> C[Infrastructure Layer<br/>src/shared/infrastructure/]
    C --> D[Domain Layer<br/>src/shared/core/]

    style D fill:#e1f5e1
    style C fill:#fff4e1
    style B fill:#e1f0ff
    style A fill:#ffe1f0
```

**ãƒ¬ã‚¤ãƒ¤ãƒ¼è²¬å‹™**:

- **Domainå±¤**ï¼ˆ`src/shared/core/`ï¼‰: ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å®šç¾©ï¼ˆå¤–éƒ¨ä¾å­˜ã‚¼ãƒ­ï¼‰
- **Infrastructureå±¤**ï¼ˆ`src/shared/infrastructure/`ï¼‰: DBã€AIã€Discordç­‰ã®å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹æ¥ç¶š
- **Applicationå±¤**ï¼ˆ`src/features/`ï¼‰: æ©Ÿèƒ½ã”ã¨ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ï¼‰
- **Presentationå±¤**ï¼ˆ`src/app/`ï¼‰: Next.js App Routerã€UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆmaster_system_design.md 3ç« æº–æ‹ ï¼‰

| ãƒ¬ã‚¤ãƒ¤ãƒ¼       | æŠ€è¡“              | ãƒãƒ¼ã‚¸ãƒ§ãƒ³           |
| -------------- | ----------------- | -------------------- |
| **Framework**  | Next.js           | 15.xï¼ˆApp Routerï¼‰   |
| **Language**   | TypeScript        | 5.xï¼ˆstrict ãƒ¢ãƒ¼ãƒ‰ï¼‰ |
| **Database**   | Tursoï¼ˆSQLiteï¼‰   | -                    |
| **ORM**        | Drizzle           | 0.39.x               |
| **Validation** | Zod               | 3.x                  |
| **UI**         | Tailwind CSS      | 3.x                  |
| **State**      | SWR / React Query | æœ€æ–°                 |
| **Testing**    | Vitest            | 2.x                  |

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**åŸå› **: å‹ã‚¨ãƒ©ãƒ¼ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆä¸æ­£

**è§£æ±ºç­–**:

```bash
# å‹ãƒã‚§ãƒƒã‚¯
pnpm typecheck

# ESLint
pnpm lint

# ãƒ“ãƒ«ãƒ‰
pnpm build
```

### ä¾å­˜é–¢ä¿‚é•å

**åŸå› **: Clean Architectureé•åï¼ˆapp â† featuresç­‰ï¼‰

**è§£æ±ºç­–**:

```bash
# ESLint boundaries plugin ã§æ¤œå‡º
pnpm lint

# é•åç®‡æ‰€ã‚’ä¿®æ­£
```

### ãƒ†ã‚¹ãƒˆå¤±æ•—

**åŸå› **: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸è¶³ã€ãƒ¢ãƒƒã‚¯ä¸æ­£

**è§£æ±ºç­–**:

- Phase 7ï¼ˆunit-testerï¼‰ã§ç¶²ç¾…çš„ãƒ†ã‚¹ãƒˆä½œæˆ
- å¤–éƒ¨ä¾å­˜ã‚’é©åˆ‡ã«ãƒ¢ãƒƒã‚¯åŒ–
- TDDã‚µã‚¤ã‚¯ãƒ«å®Ÿè·µï¼ˆRed-Green-Refactorï¼‰

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### Server Componentså„ªå…ˆ

```tsx
// âœ… æ­£ã—ã„: Server Componentï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
export default async function Page() {
  const data = await fetchData();
  return <div>{data}</div>;
}

// âŒ é–“é•ã„: ä¸è¦ãªClient Component
("use client");
export default function Page() {
  // ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œå¯èƒ½ãªå‡¦ç†
}
```

### æ©Ÿèƒ½ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­è¨ˆ

```
src/features/${feature-name}/
â”œâ”€â”€ schema.ts           # å…¥å‡ºåŠ›ã‚¹ã‚­ãƒ¼ãƒï¼ˆZodï¼‰
â”œâ”€â”€ executor.ts         # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â””â”€â”€ __tests__/          # ãƒ†ã‚¹ãƒˆ
    â””â”€â”€ executor.test.ts
```

## å‚ç…§

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

- router-dev: `.claude/agents/router-dev.md`
- ui-designer: `.claude/agents/ui-designer.md`
- state-manager: `.claude/agents/state-manager.md`
- domain-modeler: `.claude/agents/domain-modeler.md`
- db-architect: `.claude/agents/db-architect.md`
- repo-dev: `.claude/agents/repo-dev.md`
- gateway-dev: `.claude/agents/gateway-dev.md`
